---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<CenterLayout>
<span class="title">Knowledge Base</span>
<h1>Downgrading versions of terraform</h1>
<GitHub json={{"id":"D_kwDOF8slf84AOawc","number":111,"author":{"login":"pete0emerson"},"title":"Downgrading versions of terraform","body":"We upgraded our openvpn infra to terraform 1.0.X, but we have an RDS module that is at 0.12.X and it uses state from the openvpn infra.  what is the preferred method to downgrade the terraform version of an existing piece of infra?  We can destroy it, remove the state file, and the DynamoDB entry, or revert to an previous version of the state file, and adjust the dynamo DB s3 object version, right?  is there a better way?  is one of these methods preferred?","bodyHTML":"<p dir=\"auto\">We upgraded our openvpn infra to terraform 1.0.X, but we have an RDS module that is at 0.12.X and it uses state from the openvpn infra.  what is the preferred method to downgrade the terraform version of an existing piece of infra?  We can destroy it, remove the state file, and the DynamoDB entry, or revert to an previous version of the state file, and adjust the dynamo DB s3 object version, right?  is there a better way?  is one of these methods preferred?</p>","answer":{"body":"Your suggestions are perfectly reasonable. If the configuration of your OpenVPN infrastructure hasn't changed between the old 0.12.x and the new 1.0.X, I think it's simplest to revert to the previous version of the state file and adjust the dynamoDB S3 object accordingly:\r\n\r\n1) Revert state file\r\n2) Adjust dynamoDB S3 object\r\n3) Run a terraform-0.12.x plan on the OpenVPN infrastructure and make sure it runs clean\r\n\r\nIf you have made modifications or the tf plan (with version 0.12.x) doesn't run cleanly, then you can take the next more drastic step of rebuilding the OpenVPN infra. Less desirable, obviously, due to downtime.","bodyHTML":"<p dir=\"auto\">Your suggestions are perfectly reasonable. If the configuration of your OpenVPN infrastructure hasn't changed between the old 0.12.x and the new 1.0.X, I think it's simplest to revert to the previous version of the state file and adjust the dynamoDB S3 object accordingly:</p>\n<ol dir=\"auto\">\n<li>Revert state file</li>\n<li>Adjust dynamoDB S3 object</li>\n<li>Run a terraform-0.12.x plan on the OpenVPN infrastructure and make sure it runs clean</li>\n</ol>\n<p dir=\"auto\">If you have made modifications or the tf plan (with version 0.12.x) doesn't run cleanly, then you can take the next more drastic step of rebuilding the OpenVPN infra. Less desirable, obviously, due to downtime.</p>"},"comments":{"edges":[{"node":{"author":{"login":"gruntwork-discussions"},"body":"You must label this issue with at least one of the following labels before it can be answered:\n\n* [r:terraform-aws-service-catalog](https://github.com/gruntwork-io/terraform-aws-service-catalog)\n* [r:terraform-aws-vpc](https://github.com/gruntwork-io/terraform-aws-vpc)\n* [r:terraform-aws-architecture-catalog](https://github.com/gruntwork-io/terraform-aws-architecture-catalog)\n* [r:terraform-aws-asg](https://github.com/gruntwork-io/terraform-aws-asg)\n* [r:terraform-aws-beanstalk](https://github.com/gruntwork-io/terraform-aws-beanstalk)\n* [r:terraform-aws-cache](https://github.com/gruntwork-io/terraform-aws-cache)\n* [r:terraform-aws-ci](https://github.com/gruntwork-io/terraform-aws-ci)\n* [r:terraform-aws-ci-pipeline-example](https://github.com/gruntwork-io/terraform-aws-ci-pipeline-example)\n* [r:terraform-aws-cis-service-catalog](https://github.com/gruntwork-io/terraform-aws-cis-service-catalog)\n* [r:terraform-aws-data-storage](https://github.com/gruntwork-io/terraform-aws-data-storage)\n* [r:terraform-aws-ecs](https://github.com/gruntwork-io/terraform-aws-ecs)\n* [r:terraform-aws-eks](https://github.com/gruntwork-io/terraform-aws-eks)\n* [r:terraform-aws-elk](https://github.com/gruntwork-io/terraform-aws-elk)\n* [r:terraform-aws-kafka](https://github.com/gruntwork-io/terraform-aws-kafka)\n* [r:terraform-aws-lambda](https://github.com/gruntwork-io/terraform-aws-lambda)\n* [r:terraform-aws-load-balancer](https://github.com/gruntwork-io/terraform-aws-load-balancer)\n* [r:terraform-aws-messaging](https://github.com/gruntwork-io/terraform-aws-messaging)\n* [r:terraform-aws-mongodb](https://github.com/gruntwork-io/terraform-aws-mongodb)\n* [r:terraform-aws-monitoring](https://github.com/gruntwork-io/terraform-aws-monitoring)\n* [r:terraform-aws-openvpn](https://github.com/gruntwork-io/terraform-aws-openvpn)\n* [r:terraform-aws-sam](https://github.com/gruntwork-io/terraform-aws-sam)\n* [r:terraform-aws-security](https://github.com/gruntwork-io/terraform-aws-security)\n* [r:terraform-aws-server](https://github.com/gruntwork-io/terraform-aws-server)\n* [r:terraform-aws-static-assets](https://github.com/gruntwork-io/terraform-aws-static-assets)\n* [r:terraform-aws-zookeeper](https://github.com/gruntwork-io/terraform-aws-zookeeper)\n* [r:terragrunt](https://github.com/gruntwork-io/terragrunt)\n* [r:terratest](https://github.com/gruntwork-io/terratest)\n* [r:repo-copier](https://github.com/gruntwork-io/repo-copier)\n\n\n[Community Guidelines](https://github.com/gruntwork-io/knowledge-base/discussions/1)\n[Getting help](https://gruntwork.io/support/)\n[Gruntwork documentation](https://www.gruntwork.io)\n"}},{"node":{"author":{"login":"pete0emerson"},"body":"Your suggestions are perfectly reasonable. If the configuration of your OpenVPN infrastructure hasn't changed between the old 0.12.x and the new 1.0.X, I think it's simplest to revert to the previous version of the state file and adjust the dynamoDB S3 object accordingly:\r\n\r\n1) Revert state file\r\n2) Adjust dynamoDB S3 object\r\n3) Run a terraform-0.12.x plan on the OpenVPN infrastructure and make sure it runs clean\r\n\r\nIf you have made modifications or the tf plan (with version 0.12.x) doesn't run cleanly, then you can take the next more drastic step of rebuilding the OpenVPN infra. Less desirable, obviously, due to downtime."}}]}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "a5097d423aa6a663747fee4580394ec1"
}
##DOCS-SOURCER-END -->
