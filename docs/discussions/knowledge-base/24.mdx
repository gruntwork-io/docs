---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/24" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How to update permissions for the ECS Deploy Runner?</h1>
<GitHub discussion={{"id":"MDEwOkRpc2N1c3Npb24zNTUzMjMy","number":24,"author":{"login":"gruntwork-support"},"title":"How to update permissions for the ECS Deploy Runner?","body":"_This message was extracted from a discussion that originally took place in Gruntwork Community Slack. Names and URLs have been removed where appropriate_\n\n\n**From a customer**\n\nThis morning we found that we needed to add an \"allow\" permission to one of our ECS deployers (we’re currently leveraging the CIS reference architecture). However, changes made within the \"deployer\" directories are skipped in the `deploy-infra.sh` script). What is the best process to update an ECS deployer?","bodyHTML":"<p dir=\"auto\"><em>This message was extracted from a discussion that originally took place in Gruntwork Community Slack. Names and URLs have been removed where appropriate</em></p>\n<p dir=\"auto\"><strong>From a customer</strong></p>\n<p dir=\"auto\">This morning we found that we needed to add an \"allow\" permission to one of our ECS deployers (we’re currently leveraging the CIS reference architecture). However, changes made within the \"deployer\" directories are skipped in the <code class=\"notranslate\">deploy-infra.sh</code> script). What is the best process to update an ECS deployer?</p>","answer":{"body":"**From a grunt**\n\n\nBy default, we recommend manually running the terraform code for updating the ECS deploy runner (that is, an operator with admin permissions runs `terragrunt apply` on the module), as certain changes can cause problems to the running deploy runner when it performs the updates. For example, updating IAM permissions could cause the ECS deploy runner to lose the permissions to write to the terraform state, which could cause your state file to become corrupt and unusable.\n\nWith that said, you can also proceed to remove the skip routine in the `deploy-infra.sh` script, as long as you are able to setup a review workflow where the reviewer makes sure that any changes to the ECS deploy runner will not affect the runtime if applied. The rule of thumb is to review the plan output for the run and make sure that it won't proceed to destroy the ECS cluster, or the IAM permissions associated with it.\n\nHope this helps!","bodyHTML":"<p dir=\"auto\"><strong>From a grunt</strong></p>\n<p dir=\"auto\">By default, we recommend manually running the terraform code for updating the ECS deploy runner (that is, an operator with admin permissions runs <code class=\"notranslate\">terragrunt apply</code> on the module), as certain changes can cause problems to the running deploy runner when it performs the updates. For example, updating IAM permissions could cause the ECS deploy runner to lose the permissions to write to the terraform state, which could cause your state file to become corrupt and unusable.</p>\n<p dir=\"auto\">With that said, you can also proceed to remove the skip routine in the <code class=\"notranslate\">deploy-infra.sh</code> script, as long as you are able to setup a review workflow where the reviewer makes sure that any changes to the ECS deploy runner will not affect the runtime if applied. The rule of thumb is to review the plan output for the run and make sure that it won't proceed to destroy the ECS cluster, or the IAM permissions associated with it.</p>\n<p dir=\"auto\">Hope this helps!</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "4c229ac5dd38f78ef177c82f4a24828a"
}
##DOCS-SOURCER-END -->
