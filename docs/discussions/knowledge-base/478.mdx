---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/478" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Out of date authentication API version for Kubernetes?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AP2TJ","number":478,"author":{"login":"yorinasub17"},"title":"Out of date authentication API version for Kubernetes?","body":"\nI am getting the following error message when using the Gruntwork modules:\r\n\r\n```\r\nKubernetes cluster unreachable: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\r\n```\r\n\r\nHow do I address this?\n\n---\n\n<ins datetime=\"2022-06-17T23:42:22Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/108805\">Tracked in ticket #108805</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">I am getting the following error message when using the Gruntwork modules:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Kubernetes cluster unreachable: exec plugin: invalid apiVersion &quot;client.authentication.k8s.io/v1alpha1&quot;\"><pre class=\"notranslate\"><code>Kubernetes cluster unreachable: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\n</code></pre></div>\n<p dir=\"auto\">How do I address this?</p>\n<hr>\n<ins datetime=\"2022-06-17T23:42:22Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/108805\" rel=\"nofollow\">Tracked in ticket #108805</a></p>\n</ins>","answer":{"body":"This is due to the Kubernetes library dependencies of the `helm` provider being upgraded beyond 1.24.x, where the `v1alpha1` API was removed.\r\n\r\nWe are currently working on a fix for `kubergrunt` to be compatible with generating a `v1beta1` auth token. In the meantime, it is recommended to work around this by pinning the `helm` provider version to `2.5.1`, the last known version to work with `v1alpha1`. You can pin the provider version by following the same strategy recommended in https://github.com/gruntwork-io/knowledge-base/discussions/187.\r\n\r\nRefer to https://github.com/hashicorp/terraform-provider-helm/issues/893 for more info.","bodyHTML":"<p dir=\"auto\">This is due to the Kubernetes library dependencies of the <code class=\"notranslate\">helm</code> provider being upgraded beyond 1.24.x, where the <code class=\"notranslate\">v1alpha1</code> API was removed.</p>\n<p dir=\"auto\">We are currently working on a fix for <code class=\"notranslate\">kubergrunt</code> to be compatible with generating a <code class=\"notranslate\">v1beta1</code> auth token. In the meantime, it is recommended to work around this by pinning the <code class=\"notranslate\">helm</code> provider version to <code class=\"notranslate\">2.5.1</code>, the last known version to work with <code class=\"notranslate\">v1alpha1</code>. You can pin the provider version by following the same strategy recommended in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"3868867\" data-permission-text=\"Title is private\" data-url=\"https://github.com/gruntwork-io/knowledge-base/discussions/187\" data-hovercard-type=\"discussion\" data-hovercard-url=\"/gruntwork-io/knowledge-base/discussions/187/hovercard\" href=\"https://github.com/gruntwork-io/knowledge-base/discussions/187\">#187</a>.</p>\n<p dir=\"auto\">Refer to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1275537066\" data-permission-text=\"Title is private\" data-url=\"https://github.com/hashicorp/terraform-provider-helm/issues/893\" data-hovercard-type=\"issue\" data-hovercard-url=\"/hashicorp/terraform-provider-helm/issues/893/hovercard\" href=\"https://github.com/hashicorp/terraform-provider-helm/issues/893\">hashicorp/terraform-provider-helm#893</a> for more info.</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "3901153abdbf94852c0b57c41811ce33"
}
##DOCS-SOURCER-END -->
