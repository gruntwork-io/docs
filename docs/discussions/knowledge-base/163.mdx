---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/163" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How do I disable a region in a multi-region module?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AOq2f","number":163,"author":{"login":"yorinasub17"},"title":"How do I disable a region in a multi-region module?","body":"I'd like to exclude regions I never use from having resources that Landing Zone and the Reference Architecture deploys. How can I do that?","bodyHTML":"<p dir=\"auto\">I'd like to exclude regions I never use from having resources that Landing Zone and the Reference Architecture deploys. How can I do that?</p>","answer":{"body":"In the Landing Zone modules (`account-baseline-app`, `account-baseline-root`, `account-baseline-security`), there are two settings that configure multiple regions:\r\n\r\n- The provider blocks for each region\r\n- The `opt_in_regions` variables\r\n\r\nIn the Reference Architecture, these are configured through the `all_aws_regions` and `opt_in_regions` local variables in the [multi_region_common.hcl](https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/master/examples/for-production/infrastructure-live/multi_region_common.hcl) configuration file.\r\n\r\nTo disable a region in the multi-region modules, you can remove it from the `opt_in_regions` list. Note that you must have all regions specified in the `all_aws_regions` list, as the multi-region module expects a provider block for every possible AWS region.\r\n\r\nIf you are using `terraform` or the Landing Zone module directly, you can omit the region from the `opt_in_regions` variables list that you are passing into the module.","bodyHTML":"<p dir=\"auto\">In the Landing Zone modules (<code class=\"notranslate\">account-baseline-app</code>, <code class=\"notranslate\">account-baseline-root</code>, <code class=\"notranslate\">account-baseline-security</code>), there are two settings that configure multiple regions:</p>\n<ul dir=\"auto\">\n<li>The provider blocks for each region</li>\n<li>The <code class=\"notranslate\">opt_in_regions</code> variables</li>\n</ul>\n<p dir=\"auto\">In the Reference Architecture, these are configured through the <code class=\"notranslate\">all_aws_regions</code> and <code class=\"notranslate\">opt_in_regions</code> local variables in the <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/master/examples/for-production/infrastructure-live/multi_region_common.hcl\">multi_region_common.hcl</a> configuration file.</p>\n<p dir=\"auto\">To disable a region in the multi-region modules, you can remove it from the <code class=\"notranslate\">opt_in_regions</code> list. Note that you must have all regions specified in the <code class=\"notranslate\">all_aws_regions</code> list, as the multi-region module expects a provider block for every possible AWS region.</p>\n<p dir=\"auto\">If you are using <code class=\"notranslate\">terraform</code> or the Landing Zone module directly, you can omit the region from the <code class=\"notranslate\">opt_in_regions</code> variables list that you are passing into the module.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "6cfeb698d2cf309225115b72694d3a72"
}
##DOCS-SOURCER-END -->
