---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/129" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Best way to connect external client directly to pod on a range of ports?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AOdlt","number":129,"author":{"login":"zackproser"},"title":"Best way to connect external client directly to pod on a range of ports?","body":"A customer asked: \r\n> This is a general query regarding Kubernetes networking. What is the best approach to connect external client directly to the pod on a range of ports. Currently I have hostNetworking enabled and client connect through the node public address. Since the setup is in going to be in datacenter and avaialable machines are bigger, what is the best approach to efficiently connect to the pod/pods(with multiple public IPs if possible) over a range of ports. ","bodyHTML":"<p dir=\"auto\">A customer asked:</p>\n<blockquote>\n<p dir=\"auto\">This is a general query regarding Kubernetes networking. What is the best approach to connect external client directly to the pod on a range of ports. Currently I have hostNetworking enabled and client connect through the node public address. Since the setup is in going to be in datacenter and avaialable machines are bigger, what is the best approach to efficiently connect to the pod/pods(with multiple public IPs if possible) over a range of ports.</p>\n</blockquote>","answer":{"body":"This is generally handled by a `Service` or `Ingress`, depending on the type of application and how you are connecting to it. The easiest would be to use a `NodePort` type `Service` (which is better than using `hostNetworking` with the container because the container doesn’t have to have privileged access). This is best described in the blog post https://dzone.com/articles/kubernetes-exposing-services.\r\n\r\nThe disadvantage of `NodePort` is that there is only a finite number of ports you can expose, which can easily run out depending on how many pods you want to expose. The next general approach is to use Ingress. The idea of Ingress is to run a load balancer application in your cluster which manages the routing, and expose that load balancer using the Service resource.\r\n\r\nIf neither of those work, then typically you rely on a custom networking system for the Pods by implementing or deploying a CNI that allows you to allocate connectable IP addresses to the Pods. For example, in EKS, this is handled by using the VPC CNI which allocates IP addresses from the VPC to the Pods, which allow any service in the VPC to directly connect to the Pod’s IP. You will have to find what CNI options exist which will allow you to have a similar benefit in your data center.","bodyHTML":"<p dir=\"auto\">This is generally handled by a <code class=\"notranslate\">Service</code> or <code class=\"notranslate\">Ingress</code>, depending on the type of application and how you are connecting to it. The easiest would be to use a <code class=\"notranslate\">NodePort</code> type <code class=\"notranslate\">Service</code> (which is better than using <code class=\"notranslate\">hostNetworking</code> with the container because the container doesn’t have to have privileged access). This is best described in the blog post <a href=\"https://dzone.com/articles/kubernetes-exposing-services\" rel=\"nofollow\">https://dzone.com/articles/kubernetes-exposing-services</a>.</p>\n<p dir=\"auto\">The disadvantage of <code class=\"notranslate\">NodePort</code> is that there is only a finite number of ports you can expose, which can easily run out depending on how many pods you want to expose. The next general approach is to use Ingress. The idea of Ingress is to run a load balancer application in your cluster which manages the routing, and expose that load balancer using the Service resource.</p>\n<p dir=\"auto\">If neither of those work, then typically you rely on a custom networking system for the Pods by implementing or deploying a CNI that allows you to allocate connectable IP addresses to the Pods. For example, in EKS, this is handled by using the VPC CNI which allocates IP addresses from the VPC to the Pods, which allow any service in the VPC to directly connect to the Pod’s IP. You will have to find what CNI options exist which will allow you to have a similar benefit in your data center.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "979d942116b8c3856faf5755a2f5835f"
}
##DOCS-SOURCER-END -->
