---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/172" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How can we override dependency block in Terragrunt ?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AOubn","number":172,"author":{"login":"abhinav5656"},"title":"How can we override dependency block in Terragrunt ?","body":"Hello guys, I have a scenario where i have to create same resource two times (e.g rabbitmq) using terragrunt. Folder structure is like below \r\n```\r\n└── live\r\n    ├── terragrunt.hcl\r\n    ├── _env\r\n    │   ├── rabbitmq.hcl \r\n    │   └── vpc.hcl\r\n    ├── stage\r\n    │   ├── env.hcl\r\n    │   ├── rabbitmq\r\n    │   │   └── terragrunt.hcl      \r\n    │   └── vpc\r\n    │       └── terragrunt.hcl\r\n    └── qa\r\n        ├── env.hcl\r\n        ├── rabbitmq\r\n            └── terragrunt.hcl    \r\n```\r\n- Stage rabbitmq has a dependency on stage vpc.\r\n- The qa rabbitmq  has a dependency on the the stage vpc. \r\n- In _env/rabbitmq.hcl file, i have given config path:\r\n```\r\ndependency \"vpc\" {\r\n  mock_outputs_allowed_terraform_commands = [\"plan\", \"validate\"]\r\n  config_path = \"${get_terragrunt_dir()}/../vpc\"\r\n}\r\n```\r\n\r\nWhen I try to overwrite the dependency block in qa/rabbitmq/terragrunt.hcl file with \r\n```\r\n config_path = \"${get_terragrunt_dir()}/../stage/vpc\"\r\n```\r\n  its not working. \r\n\r\nhow can I achieve it ? \r\n\r\n","bodyHTML":"<p dir=\"auto\">Hello guys, I have a scenario where i have to create same resource two times (e.g rabbitmq) using terragrunt. Folder structure is like below</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"└── live\n    ├── terragrunt.hcl\n    ├── _env\n    │   ├── rabbitmq.hcl \n    │   └── vpc.hcl\n    ├── stage\n    │   ├── env.hcl\n    │   ├── rabbitmq\n    │   │   └── terragrunt.hcl      \n    │   └── vpc\n    │       └── terragrunt.hcl\n    └── qa\n        ├── env.hcl\n        ├── rabbitmq\n            └── terragrunt.hcl    \"><pre class=\"notranslate\"><code class=\"notranslate\">└── live\n    ├── terragrunt.hcl\n    ├── _env\n    │   ├── rabbitmq.hcl \n    │   └── vpc.hcl\n    ├── stage\n    │   ├── env.hcl\n    │   ├── rabbitmq\n    │   │   └── terragrunt.hcl      \n    │   └── vpc\n    │       └── terragrunt.hcl\n    └── qa\n        ├── env.hcl\n        ├── rabbitmq\n            └── terragrunt.hcl    \n</code></pre></div>\n<ul dir=\"auto\">\n<li>Stage rabbitmq has a dependency on stage vpc.</li>\n<li>The qa rabbitmq  has a dependency on the the stage vpc.</li>\n<li>In _env/rabbitmq.hcl file, i have given config path:</li>\n</ul>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"dependency &quot;vpc&quot; {\n  mock_outputs_allowed_terraform_commands = [&quot;plan&quot;, &quot;validate&quot;]\n  config_path = &quot;${get_terragrunt_dir()}/../vpc&quot;\n}\"><pre class=\"notranslate\"><code class=\"notranslate\">dependency \"vpc\" {\n  mock_outputs_allowed_terraform_commands = [\"plan\", \"validate\"]\n  config_path = \"${get_terragrunt_dir()}/../vpc\"\n}\n</code></pre></div>\n<p dir=\"auto\">When I try to overwrite the dependency block in qa/rabbitmq/terragrunt.hcl file with</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\" config_path = &quot;${get_terragrunt_dir()}/../stage/vpc&quot;\"><pre class=\"notranslate\"><code class=\"notranslate\"> config_path = \"${get_terragrunt_dir()}/../stage/vpc\"\n</code></pre></div>\n<p dir=\"auto\">its not working.</p>\n<p dir=\"auto\">how can I achieve it ?</p>","answer":{"body":"Hello! Can you please also share the rest of your `qa/rabbitmq/terragrunt.hcl` and `qa/env.hcl` files?","bodyHTML":"<p dir=\"auto\">Hello! Can you please also share the rest of your <code class=\"notranslate\">qa/rabbitmq/terragrunt.hcl</code> and <code class=\"notranslate\">qa/env.hcl</code> files?</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "2b9b99d952740e6470540cf95fd3846f"
}
##DOCS-SOURCER-END -->
