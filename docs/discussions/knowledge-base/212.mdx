---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Creation of group with an specific role assigned - Best practices for Ref Arch</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AO2y3","number":212,"author":{"login":"fsanzdev"},"title":"Creation of group with an specific role assigned - Best practices for Ref Arch","body":"Hi, \r\n\r\nWe want to create a new group to access some specific resources (cloudwatch logs) in some of our accounts (dev/staging). \r\n\r\nWhat would be the recommended way to create a group with those requirements that can be assigned to a user in the security account with cross-account access?\r\n\r\nThanks. ","bodyHTML":"<p dir=\"auto\">Hi,</p>\n<p dir=\"auto\">We want to create a new group to access some specific resources (cloudwatch logs) in some of our accounts (dev/staging).</p>\n<p dir=\"auto\">What would be the recommended way to create a group with those requirements that can be assigned to a user in the security account with cross-account access?</p>\n<p dir=\"auto\">Thanks.</p>","answer":{"body":"The best way to create this group is to use the [custom-iam-entity](https://github.com/gruntwork-io/terraform-aws-security/tree/master/modules/custom-iam-entity) module directly.\r\n\r\nE.g., you can add a new terragrunt config in `infrastructure-live` that looks like the following:\r\n\r\n```hcl\r\nterraform {\r\n  source = \"git::git@github.com:gruntwork-io/terraform-aws-security.git//modules/custom-iam-entity?ref=v0.61.0\"\r\n}\r\n\r\ninputs = {\r\n  should_require_mfa = false\r\n  should_create_iam_group = true\r\n  iam_group_name = \"TODO: name of IAM Group\"\r\n  iam_policy_arns = [\"LIST\", \"OF\", \"IAM_POLICIES\", \"TO\", \"ATTACH\"]\r\n}\r\n```","bodyHTML":"<p dir=\"auto\">The best way to create this group is to use the <a href=\"https://github.com/gruntwork-io/terraform-aws-security/tree/master/modules/custom-iam-entity\">custom-iam-entity</a> module directly.</p>\n<p dir=\"auto\">E.g., you can add a new terragrunt config in <code class=\"notranslate\">infrastructure-live</code> that looks like the following:</p>\n<div class=\"highlight highlight-source-terraform notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"terraform {\n  source = &quot;git::git@github.com:gruntwork-io/terraform-aws-security.git//modules/custom-iam-entity?ref=v0.61.0&quot;\n}\n\ninputs = {\n  should_require_mfa = false\n  should_create_iam_group = true\n  iam_group_name = &quot;TODO: name of IAM Group&quot;\n  iam_policy_arns = [&quot;LIST&quot;, &quot;OF&quot;, &quot;IAM_POLICIES&quot;, &quot;TO&quot;, &quot;ATTACH&quot;]\n}\"><pre><span class=\"pl-k\">terraform</span> {\n  source <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>git::git@github.com:gruntwork-io/terraform-aws-security.git//modules/custom-iam-entity?ref=v0.61.0<span class=\"pl-pds\">\"</span></span>\n}\n\n<span class=\"pl-v\"><span class=\"pl-smi\">inputs</span> <span class=\"pl-k\">= </span></span>{\n  should_require_mfa <span class=\"pl-k\">=</span> <span class=\"pl-c1\">false</span>\n  should_create_iam_group <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>\n  iam_group_name <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>TODO: name of IAM Group<span class=\"pl-pds\">\"</span></span>\n  iam_policy_arns <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>LIST<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>OF<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>IAM_POLICIES<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>TO<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ATTACH<span class=\"pl-pds\">\"</span></span>]\n}</pre></div>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "8a6c5a9544871036383c7347c5a9b031"
}
##DOCS-SOURCER-END -->
