---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/480" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Performance data on thousands of EC2s in Reference Architecture</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AP44M","number":480,"author":{"login":"iantybo"},"title":"Performance data on thousands of EC2s in Reference Architecture","body":"\nSince the Reference Architecture is based on Terragrunt, does this buy us any performance gains as far as `plan`s and `apply`s go for workloads that consist of thousands of EC2s? What are some considerations I need to make while I design my modules?\n\n---\n\n<ins datetime=\"2022-06-22T14:01:25Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/108812\">Tracked in ticket #108812</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Since the Reference Architecture is based on Terragrunt, does this buy us any performance gains as far as <code class=\"notranslate\">plan</code>s and <code class=\"notranslate\">apply</code>s go for workloads that consist of thousands of EC2s? What are some considerations I need to make while I design my modules?</p>\n<hr>\n<ins datetime=\"2022-06-22T14:01:25Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/108812\" rel=\"nofollow\">Tracked in ticket #108812</a></p>\n</ins>","answer":{"body":"This depends on how the deployment is structured.\r\n\r\nIf your EC2 instances are grouped across multiple apps that each have different deployment schedules, then Terragrunt can certainly help by allowing you to better break down your deployments so that you are only deploying to a subset of the resources at a time.\r\n\r\nIf instead all those EC2 instances are for a single app/cluster such that you need to roll out to all of them at once each time, then Terragrunt doesn't really help because those will be managed by a single ASG/terraform module and thus the features of Terragrunt don't apply.\r\n\r\nIn general, Terragrunt is a tool to make it much easier to manage multi-state file Terraform projects, so it will only help if you can break down your infrastructure into multiple components that have different deployment schedules.\r\n\r\nRefer to https://github.com/gruntwork-io/knowledge-base/discussions/402 for an extended commentary on this topic.","bodyHTML":"<p dir=\"auto\">This depends on how the deployment is structured.</p>\n<p dir=\"auto\">If your EC2 instances are grouped across multiple apps that each have different deployment schedules, then Terragrunt can certainly help by allowing you to better break down your deployments so that you are only deploying to a subset of the resources at a time.</p>\n<p dir=\"auto\">If instead all those EC2 instances are for a single app/cluster such that you need to roll out to all of them at once each time, then Terragrunt doesn't really help because those will be managed by a single ASG/terraform module and thus the features of Terragrunt don't apply.</p>\n<p dir=\"auto\">In general, Terragrunt is a tool to make it much easier to manage multi-state file Terraform projects, so it will only help if you can break down your infrastructure into multiple components that have different deployment schedules.</p>\n<p dir=\"auto\">Refer to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"4049818\" data-permission-text=\"Title is private\" data-url=\"https://github.com/gruntwork-io/knowledge-base/discussions/402\" data-hovercard-type=\"discussion\" data-hovercard-url=\"/gruntwork-io/knowledge-base/discussions/402/hovercard\" href=\"https://github.com/orgs/gruntwork-io/discussions/402\">#402</a> for an extended commentary on this topic.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "ef366a5220c9ac97c1eb550dd0e63a9c"
}
##DOCS-SOURCER-END -->
