---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/337" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Ref Arch setup: Why do you need a Keybase username or a PGP key?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84APN4y","number":337,"author":{"login":"zackproser"},"title":"Ref Arch setup: Why do you need a Keybase username or a PGP key?","body":"A customer asked: \r\n> Could you please explain why you request either a Keybase username with public PGP key attached, or an exported base64 encoded PGP key from a customer when they are setting up their Ref Arch form for deployment? Also, why does the example demonstrate a different value in the `Username` and the `PGPKey` field?\r\n```\r\n  #   - Username: \"grunty\"\r\n  #     Email: \"grunty@gruntwork.io\"\r\n  #     PGPKey: \"keybase:gruntwork\"\r\n```","bodyHTML":"<p dir=\"auto\">A customer asked:</p>\n<blockquote>\n<p dir=\"auto\">Could you please explain why you request either a Keybase username with public PGP key attached, or an exported base64 encoded PGP key from a customer when they are setting up their Ref Arch form for deployment? Also, why does the example demonstrate a different value in the <code class=\"notranslate\">Username</code> and the <code class=\"notranslate\">PGPKey</code> field?</p>\n</blockquote>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  #   - Username: &quot;grunty&quot;\n  #     Email: &quot;grunty@gruntwork.io&quot;\n  #     PGPKey: &quot;keybase:gruntwork&quot;\"><pre class=\"notranslate\"><code class=\"notranslate\">  #   - Username: \"grunty\"\n  #     Email: \"grunty@gruntwork.io\"\n  #     PGPKey: \"keybase:gruntwork\"\n</code></pre></div>","answer":{"body":" I can see how that would be confusing. The example is attempting to demonstrate that the username you desire for your IAM user is not dependent upon the Keybase username you want to fetch a public PGP key from.\r\n\r\nIn other words, you could have a username of `apple` and your PGPKey could be `keybase:anteater`, if that were indeed the correct Keybase profile that had your public PGP key attached to it.\r\n\r\nThe format of keybase:username is something we have used in the past to fetch Keybase profiles and use their associated keys, which explains why you've not seen it in the wild before.\r\n\r\nAt the end of the day, the reason we need a key that you control is so that we can encrypt the password that AWS returns for your new IAM Admin user in the security account. For that purpose, we can either:\r\n\r\n1. Encrypt your password to your Keybase public PGP key so that you can decrypt it when your Ref Arch is delivered, and use it to log into your security account\r\n2. Encrypt your password to your base64 encoded PGP key, for the same purpose.\r\n\r\nHope that is helpful!","bodyHTML":"<p dir=\"auto\">I can see how that would be confusing. The example is attempting to demonstrate that the username you desire for your IAM user is not dependent upon the Keybase username you want to fetch a public PGP key from.</p>\n<p dir=\"auto\">In other words, you could have a username of <code class=\"notranslate\">apple</code> and your PGPKey could be <code class=\"notranslate\">keybase:anteater</code>, if that were indeed the correct Keybase profile that had your public PGP key attached to it.</p>\n<p dir=\"auto\">The format of keybase:username is something we have used in the past to fetch Keybase profiles and use their associated keys, which explains why you've not seen it in the wild before.</p>\n<p dir=\"auto\">At the end of the day, the reason we need a key that you control is so that we can encrypt the password that AWS returns for your new IAM Admin user in the security account. For that purpose, we can either:</p>\n<ol dir=\"auto\">\n<li>Encrypt your password to your Keybase public PGP key so that you can decrypt it when your Ref Arch is delivered, and use it to log into your security account</li>\n<li>Encrypt your password to your base64 encoded PGP key, for the same purpose.</li>\n</ol>\n<p dir=\"auto\">Hope that is helpful!</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "6bbf065d815cf4290c67eaacc02d625f"
}
##DOCS-SOURCER-END -->
