---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/225" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How can I use lambda with docker images</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AO4Du","number":225,"author":{"login":"fsanzdev"},"title":"How can I use lambda with docker images","body":"Hi, \r\n\r\nI'm looking for an example of how to use lambda with docker images. I went through the different examples here https://github.com/gruntwork-io/terraform-aws-lambda/tree/master/examples but I wasn't able to find one, could you please point me to one of them if it exists? (I barely remember seeing it in your public docs on the GW website, but I can't find it either now)\r\n\r\nThanks.","bodyHTML":"<p dir=\"auto\">Hi,</p>\n<p dir=\"auto\">I'm looking for an example of how to use lambda with docker images. I went through the different examples here <a href=\"https://github.com/gruntwork-io/terraform-aws-lambda/tree/master/examples\">https://github.com/gruntwork-io/terraform-aws-lambda/tree/master/examples</a> but I wasn't able to find one, could you please point me to one of them if it exists? (I barely remember seeing it in your public docs on the GW website, but I can't find it either now)</p>\n<p dir=\"auto\">Thanks.</p>","answer":{"body":"Hi, \r\n\r\nNot exactly, we finally went with this:\r\n\r\n```\r\nterraform {\r\n  source = \"git@github.com:gruntwork-io/terraform-aws-lambda.git//modules/lambda\"\r\n}\r\n\r\ninputs = {\r\n  name                                   = \"lambda-service-sls-backend-sample\"\r\n  memory_size                            = 512\r\n  timeout                                = 30\r\n  package_type                           = \"Image\"\r\n  image_uri                              = \"SHARED_ACCOUNT_ID_HERE.dkr.ecr.sa-east-1.amazonaws.com/br/backend/sample:dev\"\r\n  cloudwatch_log_group_retention_in_days = 365\r\n}\r\n```\r\n\r\nBut we're getting this error:\r\n\r\n```\r\n Error: error creating Lambda Function (1): AccessDeniedException: \r\n│       status code: 403, request id: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n│ \r\n│   with aws_lambda_function.function[0],\r\n│   on main.tf line 39, in resource \"aws_lambda_function\" \"function\":\r\n│   39: resource \"aws_lambda_function\" \"function\" {\r\n```\r\n\r\nAny idea what's going on?\r\n\r\nThanks.","bodyHTML":"<p dir=\"auto\">Hi,</p>\n<p dir=\"auto\">Not exactly, we finally went with this:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"terraform {\n  source = &quot;git@github.com:gruntwork-io/terraform-aws-lambda.git//modules/lambda&quot;\n}\n\ninputs = {\n  name                                   = &quot;lambda-service-sls-backend-sample&quot;\n  memory_size                            = 512\n  timeout                                = 30\n  package_type                           = &quot;Image&quot;\n  image_uri                              = &quot;SHARED_ACCOUNT_ID_HERE.dkr.ecr.sa-east-1.amazonaws.com/br/backend/sample:dev&quot;\n  cloudwatch_log_group_retention_in_days = 365\n}\"><pre class=\"notranslate\"><code>terraform {\n  source = \"git@github.com:gruntwork-io/terraform-aws-lambda.git//modules/lambda\"\n}\n\ninputs = {\n  name                                   = \"lambda-service-sls-backend-sample\"\n  memory_size                            = 512\n  timeout                                = 30\n  package_type                           = \"Image\"\n  image_uri                              = \"SHARED_ACCOUNT_ID_HERE.dkr.ecr.sa-east-1.amazonaws.com/br/backend/sample:dev\"\n  cloudwatch_log_group_retention_in_days = 365\n}\n</code></pre></div>\n<p dir=\"auto\">But we're getting this error:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\" Error: error creating Lambda Function (1): AccessDeniedException: \n│       status code: 403, request id: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n│ \n│   with aws_lambda_function.function[0],\n│   on main.tf line 39, in resource &quot;aws_lambda_function&quot; &quot;function&quot;:\n│   39: resource &quot;aws_lambda_function&quot; &quot;function&quot; {\"><pre class=\"notranslate\"><code> Error: error creating Lambda Function (1): AccessDeniedException: \n│       status code: 403, request id: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n│ \n│   with aws_lambda_function.function[0],\n│   on main.tf line 39, in resource \"aws_lambda_function\" \"function\":\n│   39: resource \"aws_lambda_function\" \"function\" {\n</code></pre></div>\n<p dir=\"auto\">Any idea what's going on?</p>\n<p dir=\"auto\">Thanks.</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "b31e07bd03f7924a1f49c461bdfa0afc"
}
##DOCS-SOURCER-END -->
