---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/515" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How to destroy a Reference Architecture with cloud-nuke</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQK0Q","number":515,"author":{"login":"zackproser"},"title":"How to destroy a Reference Architecture with cloud-nuke","body":"A customer asked:\r\n> How can I use cloud-nuke to destroy a deployed Gruntwork Reference Architecture?","bodyHTML":"<p dir=\"auto\">A customer asked:</p>\n<blockquote>\n<p dir=\"auto\">How can I use cloud-nuke to destroy a deployed Gruntwork Reference Architecture?</p>\n</blockquote>","answer":{"body":"# Overview\r\n\r\nThis guide demonstrates how to use cloud-nuke to destroy a Reference Architecture that has been deployed by Gruntwork. This process is useful if a free trial customer gets their Ref Arch deployed but then decides to cancel their subscription, or when CI/CD / Gruntwork Pipelines is not an option due to authorization issues, etc. \r\n\r\n# Tearing down a deployed Ref Arch\r\n\r\n## Step 1. Install cloud-nuke\r\n\r\nUse cloud-nuke version v0.15.0 or above. You need the latest version of the tool to ensure support for all target resources. \r\n\r\nYou have a couple of options for installing cloud-nuke: \r\n\r\n- Option 1 (Recommended) - use [the Gruntwork installer](https://github.com/gruntwork-io/gruntwork-installer) to quickly install the correct binary for your platform, like so: `gruntwork-install --binary-name 'cloud-nuke' --repo 'https://github.com/gruntwork-io/cloud-nuke' --tag 'v0.15.0'`. Be sure to [double check here ](https://github.com/gruntwork-io/cloud-nuke/releases)for the latest release tag.\r\n- Option  2 Grab the latest release binary for your system from https://github.com/gruntwork-io/cloud-nuke/releases\r\n\r\n## Step 2. Ensure you have credentials to every account ready\r\n\r\nThe rough order that we’re going to nuke accounts in is: \r\n\r\n1. app accounts\r\n2. security account\r\n3. logs account\r\n4. shared accounts\r\n\r\nWe’ll start by nuking your Dev account, but you should ensure you have credentials handy for each account in your Reference Architecture.\r\n\r\nAt Gruntwork, we recommend the use of [aws-vault](https://github.com/99designs/aws-vault) for securely managing access credentials to multiple AWS accounts. \r\n\r\nThe rest of this tutorial will demonstrate authenticating via aws-vault, but you could alternatively use any of the methods described in our blog post [A Comprehensive Guide to Authenticating to AWS on the Command Line.](https://blog.gruntwork.io/a-comprehensive-guide-to-authenticating-to-aws-on-the-command-line-63656a686799)\r\n\r\n## Step 3. Start by nuking your Dev account\r\n\r\nAuthenticate to your Dev account and run the nuke command. Be sure you are targeting the primary region (`PrimaryRegion`) you specified in your reference-architecture-form.yml, as that’s where Gruntwork will have deployed all your resources: \r\n\r\n`aws-vault exec <your-dev-acct-profile> -- cloud-nuke aws --region <your-primary-region>`\r\n\r\nAfter `cloud-nuke` finishes scanning your account, you’ll see output similar to the following, confirming you really want to destroy all your resources. Confirm by entering the word: “nuke”.\r\n\r\n```bash\r\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * cloudwatch-loggroup mgmt-vpc-flow-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * s3 gruntwork-james-12-cloudtrail-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * dynamodb terraform-locks us-east-1\r\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * kmscustomerkeys 96ebd11c-ac79-4fee-8fc4-460487db0a26 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * kmscustomerkeys 5560fb79-2449-4753-811a-381d54073090 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * guardduty 5ac0c6156e20a7085663b97b0b926cb6 us-east-1\r\n\r\nTHE NEXT STEPS ARE DESTRUCTIVE AND COMPLETELY IRREVERSIBLE, PROCEED WITH CAUTION!!!\r\n\r\nAre you sure you want to nuke all listed resources? Enter 'nuke' to confirm (or exit with ^C): nuke\r\n```\r\n\r\n## Step 4. Sanity check the account is clean with aws-inspect\r\n\r\nOnce the nuke routine has finished destroying your resources, you can use cloud-nuke’s inspect functionality to ensure nothing remains: \r\n\r\n```bash\r\naws-vault exec <your-dev-acct-profile> -- cloud-nuke inspect-aws --region us-east-1 \r\n```\r\n\r\nYou should get back the following message: `No resources found!`\r\n\r\n## Step 5. Repeat steps 3 and 4 for the remainder of your accounts in the following order:\r\n\r\n- Stage\r\n- Prod\r\n- Security\r\n- Logs\r\n- Shared\r\n\r\n# Appendix\r\n\r\n## Using cloud-nuke inspect to sanity check resource counts\r\n\r\nSometimes you want to quickly view all the resources in a given AWS account without having to log in and page through the UI. \r\n\r\nYou can use the `cloud-nuke inspect-aws` command for this. \r\n\r\nThis command will tell us all the resources that cloud-nuke supports which are in the given account. \r\n\r\nBe sure to target the primary region for your deployment, as that’s where most of the resources Gruntwork deployed will be: \r\n\r\n`aws-vault exec <your-org-dev> -- cloud-nuke inspect-aws --region us-east-1`\r\n\r\nIf successful, this will result in output that looks similar to the following:\r\n```bash\r\n[cloud-nuke] INFO[2022-07-21T12:33:59-04:00] Identifying enabled regions\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-north-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-south-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-3\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-2\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-3\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-2\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region sa-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ca-central-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-southeast-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-southeast-2\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-central-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-east-2\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-west-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-west-2\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] The following resource types will be inspected:\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - accessanalyzer\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - acmpca\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ami\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - asg\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - cloudwatch-dashboard\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - cloudwatch-loggroup\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - dynamodb\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ebs\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ec2\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ecscluster\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ecsserv\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - eip\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ekscluster\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elasticache\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elb\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elbv2\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - guardduty\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - iam\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - iam-role\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - kmscustomerkeys\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - lambda\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - lc\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - macie-member\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - nat-gateway\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - oidcprovider\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - opensearchdomain\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - rds\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - s3\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - sagemaker-notebook-instance\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - secretsmanager\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - snap\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - sqs\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway-attachment\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway-route-table\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - vpc\r\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Checking region [1/1]: us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:10-04:00] Getting - 1-5 buckets of batch 1/1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * asg gruntwork-james-12-dev1234 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * lc gruntwork-james-12-dev1234-20220623141300906400000007 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * elbv2 arn:aws:elasticloadbalancing:us-east-1:444348184531:loadbalancer/app/grunt-sample-int-dev1234/6eaea032b8aaec26 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * elbv2 arn:aws:elasticloadbalancing:us-east-1:444348184531:loadbalancer/app/grunt-sample-pub-dev1234/0bc2f5ea601a41f8 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * nat-gateway nat-0f8483a76f3d46c28 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * nat-gateway nat-03b0eb2f779bd0eb5 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ec2 i-0f827a1e64a32eb9e us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ec2 i-0fcead0480e4da0ed us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ec2 i-046af5af76fd7e866 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ebs vol-0a9b93edd8de6aeb5 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ebs vol-09099c0e680a4d63b us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ebs vol-01d03a4a21e2c2128 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * eip eipalloc-0ba598be494d86af8 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * eip eipalloc-05821d12dca3d9a36 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * eip eipalloc-0c7cb883c9437be1b us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ecsserv arn:aws:ecs:us-east-1:444348184531:service/gruntwork-james-12-dev1234/sample-app-backend us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ecsserv arn:aws:ecs:us-east-1:444348184531:service/gruntwork-james-12-dev1234/sample-app-frontend us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ecscluster arn:aws:ecs:us-east-1:444348184531:cluster/gruntwork-james-12-dev1234 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * rds rds-gruntwork-james-12-dev1234 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * lambda ecs-deploy-runner-invoker us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:RDSDBConfig-rXAxbe us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:SampleAppBackEndCA-ZZlCUX us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:SampleAppFrontEndCA-9WprAg us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:bastion-admin-v1-LLqQOb us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:ecs-cluster-admin-v1-CKPkZK us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /aws/lambda/ecs-deploy-runner-invoker us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /aws/rds/instance/rds-gruntwork-james-12-dev1234/error us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /dev1234/ecs/sample-app-backend us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /dev1234/ecs/sample-app-frontend us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /ecs/ecs-deploy-runner us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup app-vpc-flow-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup bastion us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup cloudtrail-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup gruntwork-james-12-dev1234-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup mgmt-vpc-flow-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 alb-grunt-sample-int-dev1234-access-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 gruntwork-james-12-dev1234-us-east-1-tf-state us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 alb-grunt-sample-pub-dev1234-access-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 gruntwork-james-12-dev1234-us-east-1-tf-logs us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * dynamodb terraform-locks us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * elasticache redis-gruntwork-james-12-dev1234-001 us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * kmscustomerkeys 88552418-c338-4e03-a4bc-671749368e3d us-east-1\r\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * guardduty f4c0c871e32219083d09df77f1463e65 us-east-1\r\n```\r\n\r\n## Using cloud-nuke to only destroy certain resource types\r\n\r\nYou can target specific resource types in a given `cloud-nuke` run by passing the `--resource-type` flag multiple times, like so:\r\n\r\n```bash\r\n❯ aws-vault exec <your-prod-acct-profile> -- ./cloud-nuke \\\r\n  aws \\\r\n  --resource-type asg \\\r\n  --resource-type lc \\\r\n  --resource-type elbv2 \\\r\n  --resource-type ec2 \\\r\n  --resource-type ebs \\\r\n  --resource-type eip \\\r\n  --resource-type ecsserv \\\r\n  --resource-type ecscluster \\\r\n  --resource-type rds \\\r\n  --resource-type lambda \\\r\n  --resource-type secretsmanager \\\r\n  --resource-type cloudwatch-loggroup \\\r\n  --resource-type s3 \\\r\n  --resource-type dynamodb \\\r\n  --resource-type elasticache \\\r\n  --resource-type kmscustomerkeys \\\r\n  --resource-type guardduty \\\r\n  --region us-east-1\r\n```","bodyHTML":"<h1 dir=\"auto\">Overview</h1>\n<p dir=\"auto\">This guide demonstrates how to use cloud-nuke to destroy a Reference Architecture that has been deployed by Gruntwork. This process is useful if a free trial customer gets their Ref Arch deployed but then decides to cancel their subscription, or when CI/CD / Gruntwork Pipelines is not an option due to authorization issues, etc.</p>\n<h1 dir=\"auto\">Tearing down a deployed Ref Arch</h1>\n<h2 dir=\"auto\">Step 1. Install cloud-nuke</h2>\n<p dir=\"auto\">Use cloud-nuke version v0.15.0 or above. You need the latest version of the tool to ensure support for all target resources.</p>\n<p dir=\"auto\">You have a couple of options for installing cloud-nuke:</p>\n<ul dir=\"auto\">\n<li>Option 1 (Recommended) - use <a href=\"https://github.com/gruntwork-io/gruntwork-installer\">the Gruntwork installer</a> to quickly install the correct binary for your platform, like so: <code class=\"notranslate\">gruntwork-install --binary-name 'cloud-nuke' --repo 'https://github.com/gruntwork-io/cloud-nuke' --tag 'v0.15.0'</code>. Be sure to <a href=\"https://github.com/gruntwork-io/cloud-nuke/releases\">double check here </a>for the latest release tag.</li>\n<li>Option  2 Grab the latest release binary for your system from <a href=\"https://github.com/gruntwork-io/cloud-nuke/releases\">https://github.com/gruntwork-io/cloud-nuke/releases</a></li>\n</ul>\n<h2 dir=\"auto\">Step 2. Ensure you have credentials to every account ready</h2>\n<p dir=\"auto\">The rough order that we’re going to nuke accounts in is:</p>\n<ol dir=\"auto\">\n<li>app accounts</li>\n<li>security account</li>\n<li>logs account</li>\n<li>shared accounts</li>\n</ol>\n<p dir=\"auto\">We’ll start by nuking your Dev account, but you should ensure you have credentials handy for each account in your Reference Architecture.</p>\n<p dir=\"auto\">At Gruntwork, we recommend the use of <a href=\"https://github.com/99designs/aws-vault\">aws-vault</a> for securely managing access credentials to multiple AWS accounts.</p>\n<p dir=\"auto\">The rest of this tutorial will demonstrate authenticating via aws-vault, but you could alternatively use any of the methods described in our blog post <a href=\"https://blog.gruntwork.io/a-comprehensive-guide-to-authenticating-to-aws-on-the-command-line-63656a686799\" rel=\"nofollow\">A Comprehensive Guide to Authenticating to AWS on the Command Line.</a></p>\n<h2 dir=\"auto\">Step 3. Start by nuking your Dev account</h2>\n<p dir=\"auto\">Authenticate to your Dev account and run the nuke command. Be sure you are targeting the primary region (<code class=\"notranslate\">PrimaryRegion</code>) you specified in your reference-architecture-form.yml, as that’s where Gruntwork will have deployed all your resources:</p>\n<p dir=\"auto\"><code class=\"notranslate\">aws-vault exec &lt;your-dev-acct-profile&gt; -- cloud-nuke aws --region &lt;your-primary-region&gt;</code></p>\n<p dir=\"auto\">After <code class=\"notranslate\">cloud-nuke</code> finishes scanning your account, you’ll see output similar to the following, confirming you really want to destroy all your resources. Confirm by entering the word: “nuke”.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * cloudwatch-loggroup mgmt-vpc-flow-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * s3 gruntwork-james-12-cloudtrail-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * dynamodb terraform-locks us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * kmscustomerkeys 96ebd11c-ac79-4fee-8fc4-460487db0a26 us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * kmscustomerkeys 5560fb79-2449-4753-811a-381d54073090 us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] * guardduty 5ac0c6156e20a7085663b97b0b926cb6 us-east-1\n\nTHE NEXT STEPS ARE DESTRUCTIVE AND COMPLETELY IRREVERSIBLE, PROCEED WITH CAUTION!!!\n\nAre you sure you want to nuke all listed resources? Enter 'nuke' to confirm (or exit with ^C): nuke\"><pre>[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup mgmt-vpc-flow-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] <span class=\"pl-k\">*</span> s3 gruntwork-james-12-cloudtrail-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] <span class=\"pl-k\">*</span> dynamodb terraform-locks us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] <span class=\"pl-k\">*</span> kmscustomerkeys 96ebd11c-ac79-4fee-8fc4-460487db0a26 us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] <span class=\"pl-k\">*</span> kmscustomerkeys 5560fb79-2449-4753-811a-381d54073090 us-east-1\n[cloud-nuke] INFO[2022-07-21T17:45:46-04:00] <span class=\"pl-k\">*</span> guardduty 5ac0c6156e20a7085663b97b0b926cb6 us-east-1\n\nTHE NEXT STEPS ARE DESTRUCTIVE AND COMPLETELY IRREVERSIBLE, PROCEED WITH CAUTION<span class=\"pl-k\">!!!</span>\n\nAre you sure you want to nuke all listed resources<span class=\"pl-k\">?</span> Enter <span class=\"pl-s\"><span class=\"pl-pds\">'</span>nuke<span class=\"pl-pds\">'</span></span> to confirm (or <span class=\"pl-c1\">exit</span> with ^C): nuke</pre></div>\n<h2 dir=\"auto\">Step 4. Sanity check the account is clean with aws-inspect</h2>\n<p dir=\"auto\">Once the nuke routine has finished destroying your resources, you can use cloud-nuke’s inspect functionality to ensure nothing remains:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"aws-vault exec &lt;your-dev-acct-profile&gt; -- cloud-nuke inspect-aws --region us-east-1 \"><pre>aws-vault <span class=\"pl-c1\">exec</span> <span class=\"pl-k\">&lt;</span>your-dev-acct-profile<span class=\"pl-k\">&gt;</span> -- cloud-nuke inspect-aws --region us-east-1 </pre></div>\n<p dir=\"auto\">You should get back the following message: <code class=\"notranslate\">No resources found!</code></p>\n<h2 dir=\"auto\">Step 5. Repeat steps 3 and 4 for the remainder of your accounts in the following order:</h2>\n<ul dir=\"auto\">\n<li>Stage</li>\n<li>Prod</li>\n<li>Security</li>\n<li>Logs</li>\n<li>Shared</li>\n</ul>\n<h1 dir=\"auto\">Appendix</h1>\n<h2 dir=\"auto\">Using cloud-nuke inspect to sanity check resource counts</h2>\n<p dir=\"auto\">Sometimes you want to quickly view all the resources in a given AWS account without having to log in and page through the UI.</p>\n<p dir=\"auto\">You can use the <code class=\"notranslate\">cloud-nuke inspect-aws</code> command for this.</p>\n<p dir=\"auto\">This command will tell us all the resources that cloud-nuke supports which are in the given account.</p>\n<p dir=\"auto\">Be sure to target the primary region for your deployment, as that’s where most of the resources Gruntwork deployed will be:</p>\n<p dir=\"auto\"><code class=\"notranslate\">aws-vault exec &lt;your-org-dev&gt; -- cloud-nuke inspect-aws --region us-east-1</code></p>\n<p dir=\"auto\">If successful, this will result in output that looks similar to the following:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"[cloud-nuke] INFO[2022-07-21T12:33:59-04:00] Identifying enabled regions\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-north-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-south-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-3\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-3\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region sa-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ca-central-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-southeast-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-southeast-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-central-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-east-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-west-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-west-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] The following resource types will be inspected:\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - accessanalyzer\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - acmpca\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ami\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - asg\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - cloudwatch-dashboard\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - cloudwatch-loggroup\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - dynamodb\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ebs\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ec2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ecscluster\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ecsserv\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - eip\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ekscluster\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elasticache\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elb\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elbv2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - guardduty\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - iam\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - iam-role\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - kmscustomerkeys\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - lambda\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - lc\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - macie-member\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - nat-gateway\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - oidcprovider\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - opensearchdomain\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - rds\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - s3\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - sagemaker-notebook-instance\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - secretsmanager\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - snap\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - sqs\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway-attachment\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway-route-table\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - vpc\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Checking region [1/1]: us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:10-04:00] Getting - 1-5 buckets of batch 1/1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * asg gruntwork-james-12-dev1234 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * lc gruntwork-james-12-dev1234-20220623141300906400000007 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * elbv2 arn:aws:elasticloadbalancing:us-east-1:444348184531:loadbalancer/app/grunt-sample-int-dev1234/6eaea032b8aaec26 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * elbv2 arn:aws:elasticloadbalancing:us-east-1:444348184531:loadbalancer/app/grunt-sample-pub-dev1234/0bc2f5ea601a41f8 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * nat-gateway nat-0f8483a76f3d46c28 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * nat-gateway nat-03b0eb2f779bd0eb5 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ec2 i-0f827a1e64a32eb9e us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ec2 i-0fcead0480e4da0ed us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ec2 i-046af5af76fd7e866 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ebs vol-0a9b93edd8de6aeb5 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ebs vol-09099c0e680a4d63b us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ebs vol-01d03a4a21e2c2128 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * eip eipalloc-0ba598be494d86af8 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * eip eipalloc-05821d12dca3d9a36 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * eip eipalloc-0c7cb883c9437be1b us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ecsserv arn:aws:ecs:us-east-1:444348184531:service/gruntwork-james-12-dev1234/sample-app-backend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ecsserv arn:aws:ecs:us-east-1:444348184531:service/gruntwork-james-12-dev1234/sample-app-frontend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * ecscluster arn:aws:ecs:us-east-1:444348184531:cluster/gruntwork-james-12-dev1234 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * rds rds-gruntwork-james-12-dev1234 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * lambda ecs-deploy-runner-invoker us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:RDSDBConfig-rXAxbe us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:SampleAppBackEndCA-ZZlCUX us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:SampleAppFrontEndCA-9WprAg us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:bastion-admin-v1-LLqQOb us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:ecs-cluster-admin-v1-CKPkZK us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /aws/lambda/ecs-deploy-runner-invoker us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /aws/rds/instance/rds-gruntwork-james-12-dev1234/error us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /dev1234/ecs/sample-app-backend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /dev1234/ecs/sample-app-frontend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup /ecs/ecs-deploy-runner us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup app-vpc-flow-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup bastion us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup cloudtrail-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup gruntwork-james-12-dev1234-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * cloudwatch-loggroup mgmt-vpc-flow-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 alb-grunt-sample-int-dev1234-access-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 gruntwork-james-12-dev1234-us-east-1-tf-state us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 alb-grunt-sample-pub-dev1234-access-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * s3 gruntwork-james-12-dev1234-us-east-1-tf-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * dynamodb terraform-locks us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * elasticache redis-gruntwork-james-12-dev1234-001 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * kmscustomerkeys 88552418-c338-4e03-a4bc-671749368e3d us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] * guardduty f4c0c871e32219083d09df77f1463e65 us-east-1\"><pre>[cloud-nuke] INFO[2022-07-21T12:33:59-04:00] Identifying enabled regions\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-north-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-south-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-3\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-west-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-3\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-northeast-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region sa-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ca-central-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-southeast-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region ap-southeast-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region eu-central-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-east-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-west-1\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Found enabled region us-west-2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] The following resource types will be inspected:\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - accessanalyzer\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - acmpca\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ami\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - asg\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - cloudwatch-dashboard\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - cloudwatch-loggroup\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - dynamodb\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ebs\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ec2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ecscluster\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ecsserv\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - eip\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - ekscluster\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elasticache\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elb\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - elbv2\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - guardduty\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - iam\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - iam-role\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - kmscustomerkeys\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - lambda\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - lc\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - macie-member\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - nat-gateway\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - oidcprovider\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - opensearchdomain\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - rds\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - s3\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - sagemaker-notebook-instance\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - secretsmanager\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - snap\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - sqs\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway-attachment\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - transit-gateway-route-table\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] - vpc\n[cloud-nuke] INFO[2022-07-21T12:34:00-04:00] Checking region [1/1]: us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:10-04:00] Getting - 1-5 buckets of batch 1/1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> asg gruntwork-james-12-dev1234 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> lc gruntwork-james-12-dev1234-20220623141300906400000007 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> elbv2 arn:aws:elasticloadbalancing:us-east-1:444348184531:loadbalancer/app/grunt-sample-int-dev1234/6eaea032b8aaec26 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> elbv2 arn:aws:elasticloadbalancing:us-east-1:444348184531:loadbalancer/app/grunt-sample-pub-dev1234/0bc2f5ea601a41f8 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> nat-gateway nat-0f8483a76f3d46c28 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> nat-gateway nat-03b0eb2f779bd0eb5 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ec2 i-0f827a1e64a32eb9e us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ec2 i-0fcead0480e4da0ed us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ec2 i-046af5af76fd7e866 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ebs vol-0a9b93edd8de6aeb5 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ebs vol-09099c0e680a4d63b us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ebs vol-01d03a4a21e2c2128 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> eip eipalloc-0ba598be494d86af8 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> eip eipalloc-05821d12dca3d9a36 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> eip eipalloc-0c7cb883c9437be1b us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ecsserv arn:aws:ecs:us-east-1:444348184531:service/gruntwork-james-12-dev1234/sample-app-backend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ecsserv arn:aws:ecs:us-east-1:444348184531:service/gruntwork-james-12-dev1234/sample-app-frontend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> ecscluster arn:aws:ecs:us-east-1:444348184531:cluster/gruntwork-james-12-dev1234 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> rds rds-gruntwork-james-12-dev1234 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> lambda ecs-deploy-runner-invoker us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:RDSDBConfig-rXAxbe us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:SampleAppBackEndCA-ZZlCUX us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:SampleAppFrontEndCA-9WprAg us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:bastion-admin-v1-LLqQOb us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> secretsmanager arn:aws:secretsmanager:us-east-1:444348184531:secret:ecs-cluster-admin-v1-CKPkZK us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup /aws/lambda/ecs-deploy-runner-invoker us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup /aws/rds/instance/rds-gruntwork-james-12-dev1234/error us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup /dev1234/ecs/sample-app-backend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup /dev1234/ecs/sample-app-frontend us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup /ecs/ecs-deploy-runner us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup app-vpc-flow-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup bastion us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup cloudtrail-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup gruntwork-james-12-dev1234-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> cloudwatch-loggroup mgmt-vpc-flow-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> s3 alb-grunt-sample-int-dev1234-access-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> s3 gruntwork-james-12-dev1234-us-east-1-tf-state us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> s3 alb-grunt-sample-pub-dev1234-access-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> s3 gruntwork-james-12-dev1234-us-east-1-tf-logs us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> dynamodb terraform-locks us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> elasticache redis-gruntwork-james-12-dev1234-001 us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> kmscustomerkeys 88552418-c338-4e03-a4bc-671749368e3d us-east-1\n[cloud-nuke] INFO[2022-07-21T12:34:16-04:00] <span class=\"pl-k\">*</span> guardduty f4c0c871e32219083d09df77f1463e65 us-east-1</pre></div>\n<h2 dir=\"auto\">Using cloud-nuke to only destroy certain resource types</h2>\n<p dir=\"auto\">You can target specific resource types in a given <code class=\"notranslate\">cloud-nuke</code> run by passing the <code class=\"notranslate\">--resource-type</code> flag multiple times, like so:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"❯ aws-vault exec &lt;your-prod-acct-profile&gt; -- ./cloud-nuke \\\n  aws \\\n  --resource-type asg \\\n  --resource-type lc \\\n  --resource-type elbv2 \\\n  --resource-type ec2 \\\n  --resource-type ebs \\\n  --resource-type eip \\\n  --resource-type ecsserv \\\n  --resource-type ecscluster \\\n  --resource-type rds \\\n  --resource-type lambda \\\n  --resource-type secretsmanager \\\n  --resource-type cloudwatch-loggroup \\\n  --resource-type s3 \\\n  --resource-type dynamodb \\\n  --resource-type elasticache \\\n  --resource-type kmscustomerkeys \\\n  --resource-type guardduty \\\n  --region us-east-1\"><pre>❯ aws-vault <span class=\"pl-c1\">exec</span> <span class=\"pl-k\">&lt;</span>your-prod-acct-profile<span class=\"pl-k\">&gt;</span> -- ./cloud-nuke \\\n  aws \\\n  --resource-type asg \\\n  --resource-type lc \\\n  --resource-type elbv2 \\\n  --resource-type ec2 \\\n  --resource-type ebs \\\n  --resource-type eip \\\n  --resource-type ecsserv \\\n  --resource-type ecscluster \\\n  --resource-type rds \\\n  --resource-type lambda \\\n  --resource-type secretsmanager \\\n  --resource-type cloudwatch-loggroup \\\n  --resource-type s3 \\\n  --resource-type dynamodb \\\n  --resource-type elasticache \\\n  --resource-type kmscustomerkeys \\\n  --resource-type guardduty \\\n  --region us-east-1</pre></div>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "ffa564516af58ddb19ca253aed33c386"
}
##DOCS-SOURCER-END -->
