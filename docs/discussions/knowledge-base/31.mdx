---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/31" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Is there a way to inject variables into a Terraform apply run from another process outside of Terraform?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84ANvQv","number":31,"author":{"login":"rhoboat"},"title":"Is there a way to inject variables into a Terraform apply run from another process outside of Terraform?","body":"Is there a way to inject variables into Terraform from another process outside of Terraform?\r\n\r\nFor example: I'm running an automated test where at some point I'm creating an AMI. I want to pass this AMI ID as a var in Terraform running in a CI / CD pipeline, so that I can have Terraform spin up that image. ","bodyHTML":"<p dir=\"auto\">Is there a way to inject variables into Terraform from another process outside of Terraform?</p>\n<p dir=\"auto\">For example: I'm running an automated test where at some point I'm creating an AMI. I want to pass this AMI ID as a var in Terraform running in a CI / CD pipeline, so that I can have Terraform spin up that image.</p>","answer":{"body":"Most likely you'll need to set a variable in Terraform using one of the [standard ways of assigning values to root module variables](https://www.terraform.io/docs/language/values/variables.html#assigning-values-to-root-module-variables). If you're using Terragrunt, you would write the value to a `terragrunt.hcl` file.\r\n\r\nSome programmatic options:\r\n\r\n- If you are doing this for testing, then we have terratest where you can use Go to dynamically generate variables and drive terraform apply. Examples of this are at [terratest.gruntwork.io](http://terratest.gruntwork.io/) **(Open source: no subscription needed)**\r\n- If you want to do a CI/CD workflow where you are updating variables to commit to git, then we have `terraform-update-variable`, which is a bash script that can update a `tfvars` or `terragrunt.hcl` file and commit the update to git: https://github.com/gruntwork-io/terraform-aws-ci/tree/master/modules/terraform-helpers **(Subscriber only)**\r\n- If you want to dynamically update variables every time you run `terraform`, then [Terragrunt](https://terragrunt.gruntwork.io) offers the `run_cmd` function which can run arbitrary commands to render out to the Terraform variable every time `terraform` is called. Example is here: https://terragrunt.gruntwork.io/docs/reference/built-in-functions/#run_cmd **(Open source: no subscription needed)**","bodyHTML":"<p dir=\"auto\">Most likely you'll need to set a variable in Terraform using one of the <a href=\"https://www.terraform.io/docs/language/values/variables.html#assigning-values-to-root-module-variables\" rel=\"nofollow\">standard ways of assigning values to root module variables</a>. If you're using Terragrunt, you would write the value to a <code class=\"notranslate\">terragrunt.hcl</code> file.</p>\n<p dir=\"auto\">Some programmatic options:</p>\n<ul dir=\"auto\">\n<li>If you are doing this for testing, then we have terratest where you can use Go to dynamically generate variables and drive terraform apply. Examples of this are at <a href=\"http://terratest.gruntwork.io/\" rel=\"nofollow\">terratest.gruntwork.io</a> <strong>(Open source: no subscription needed)</strong></li>\n<li>If you want to do a CI/CD workflow where you are updating variables to commit to git, then we have <code class=\"notranslate\">terraform-update-variable</code>, which is a bash script that can update a <code class=\"notranslate\">tfvars</code> or <code class=\"notranslate\">terragrunt.hcl</code> file and commit the update to git: <a href=\"https://github.com/gruntwork-io/terraform-aws-ci/tree/master/modules/terraform-helpers\">https://github.com/gruntwork-io/terraform-aws-ci/tree/master/modules/terraform-helpers</a> <strong>(Subscriber only)</strong></li>\n<li>If you want to dynamically update variables every time you run <code class=\"notranslate\">terraform</code>, then <a href=\"https://terragrunt.gruntwork.io\" rel=\"nofollow\">Terragrunt</a> offers the <code class=\"notranslate\">run_cmd</code> function which can run arbitrary commands to render out to the Terraform variable every time <code class=\"notranslate\">terraform</code> is called. Example is here: <a href=\"https://terragrunt.gruntwork.io/docs/reference/built-in-functions/#run_cmd\" rel=\"nofollow\">https://terragrunt.gruntwork.io/docs/reference/built-in-functions/#run_cmd</a> <strong>(Open source: no subscription needed)</strong></li>\n</ul>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "c621b92523634e4f05b604e76b491b26"
}
##DOCS-SOURCER-END -->
