---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/510" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How to handle folder moves in Terragrunt?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQHpJ","number":510,"author":{"login":"yorinasub17"},"title":"How to handle folder moves in Terragrunt?","body":"\nI would like to rename a folder in my Terragrunt project, but since the remote state path is tied to the folder path, how can I do this in a way such that the state is preserved?\n\n---\n\n<ins datetime=\"2022-07-18T13:47:27Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109002\">Tracked in ticket #109002</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">I would like to rename a folder in my Terragrunt project, but since the remote state path is tied to the folder path, how can I do this in a way such that the state is preserved?</p>\n<hr>\n<ins datetime=\"2022-07-18T13:47:27Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109002\" rel=\"nofollow\">Tracked in ticket #109002</a></p>\n</ins>","answer":{"body":"The best way to do this is to move the state file using `state pull` and `state push`, one module at a time. This is tedious, especially if you are moving a folder in the middle of the tree, but it is much easier to guarantee the state files remain intact. To do this while keeping state, for each module do the following:\r\n\r\n- Dump out the state to a known, temporary location using `terragrunt state pull > $PATH_TO_TEMP_LOCATION` (where `PATH_TO_TEMP_LOCATION` is a file path, e.g. `/tmp/temporary_state.tfstate`).\r\n- Make the change to the filesystem, moving the module to the desired folder location.\r\n- In the new folder, import the state using `terragrunt state push $PATH_TO_TEMP_LOCATION`.\r\n- (Optional) Remove the state file from the old path in the remote state location using the AWS CLI or AWS web console.","bodyHTML":"<p dir=\"auto\">The best way to do this is to move the state file using <code class=\"notranslate\">state pull</code> and <code class=\"notranslate\">state push</code>, one module at a time. This is tedious, especially if you are moving a folder in the middle of the tree, but it is much easier to guarantee the state files remain intact. To do this while keeping state, for each module do the following:</p>\n<ul dir=\"auto\">\n<li>Dump out the state to a known, temporary location using <code class=\"notranslate\">terragrunt state pull &gt; $PATH_TO_TEMP_LOCATION</code> (where <code class=\"notranslate\">PATH_TO_TEMP_LOCATION</code> is a file path, e.g. <code class=\"notranslate\">/tmp/temporary_state.tfstate</code>).</li>\n<li>Make the change to the filesystem, moving the module to the desired folder location.</li>\n<li>In the new folder, import the state using <code class=\"notranslate\">terragrunt state push $PATH_TO_TEMP_LOCATION</code>.</li>\n<li>(Optional) Remove the state file from the old path in the remote state location using the AWS CLI or AWS web console.</li>\n</ul>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "eb026ecfd643ec653fb1234765c55d8a"
}
##DOCS-SOURCER-END -->
