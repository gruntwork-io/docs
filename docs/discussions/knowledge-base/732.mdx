---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/732" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>vpc to flow_log into an exiting s3 bucket</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AUHwf","number":732,"author":{"login":"asokolsky4clari"},"title":"vpc to flow_log into an exiting s3 bucket","body":"\nI am porting the code which relies on [AWS VPC module](https://github.com/terraform-aws-modules/terraform-aws-vpc) to rely on [gruntwork VPC module](https://github.com/gruntwork-io/terraform-aws-vpc/).  I would like for my vpc to flow_log into the existing s3 bucket.  In the former module this is a non-issue - I just provide an s3 arn.  [gruntwork vpc-flow-logs module](https://github.com/gruntwork-io/terraform-aws-vpc/blob/main/modules/vpc-flow-logs/main.tf) seems to be lacking such functionality.  \r\n\r\nIn other words, I need to:\r\n\r\n* change [this line](https://github.com/gruntwork-io/terraform-aws-vpc/blob/main/modules/vpc-flow-logs/main.tf#L31) to allow for an externally provided s3 bucket arn\r\n* provide a destination option [similar to this](https://github.com/terraform-aws-modules/terraform-aws-vpc/blob/master/vpc-flow-logs.tf#L28) to specify s3 flowlog file format - parquet.\r\n\r\nPlease advise.\r\n\n\n---\n\n<ins datetime=\"2023-06-07T15:52:21Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/110239\">Tracked in ticket #110239</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">I am porting the code which relies on <a href=\"https://github.com/terraform-aws-modules/terraform-aws-vpc\">AWS VPC module</a> to rely on <a href=\"https://github.com/gruntwork-io/terraform-aws-vpc/\">gruntwork VPC module</a>.  I would like for my vpc to flow_log into the existing s3 bucket.  In the former module this is a non-issue - I just provide an s3 arn.  <a href=\"https://github.com/gruntwork-io/terraform-aws-vpc/blob/main/modules/vpc-flow-logs/main.tf\">gruntwork vpc-flow-logs module</a> seems to be lacking such functionality.</p>\n<p dir=\"auto\">In other words, I need to:</p>\n<ul dir=\"auto\">\n<li>change <a href=\"https://github.com/gruntwork-io/terraform-aws-vpc/blob/main/modules/vpc-flow-logs/main.tf#L31\">this line</a> to allow for an externally provided s3 bucket arn</li>\n<li>provide a destination option <a href=\"https://github.com/terraform-aws-modules/terraform-aws-vpc/blob/master/vpc-flow-logs.tf#L28\">similar to this</a> to specify s3 flowlog file format - parquet.</li>\n</ul>\n<p dir=\"auto\">Please advise.</p>\n<hr>\n<ins datetime=\"2023-06-07T15:52:21Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/110239\" rel=\"nofollow\">Tracked in ticket #110239</a></p>\n</ins>","answer":{"body":"Hi @asokolsky4clari, there some options on how to go about this:\r\n\r\n* forking our module and making any changes you find necessary\r\n* forking, making the changes and openings a PR to us\r\n* creating an issue in [the repo](https://github.com/gruntwork-io/terraform-aws-vpc) to request support for this feature\r\n\r\nQuestion, are you currently blocked by the lack of this functionality?","bodyHTML":"<p dir=\"auto\">Hi <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/asokolsky4clari/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/asokolsky4clari\">@asokolsky4clari</a>, there some options on how to go about this:</p>\n<ul dir=\"auto\">\n<li>forking our module and making any changes you find necessary</li>\n<li>forking, making the changes and openings a PR to us</li>\n<li>creating an issue in <a href=\"https://github.com/gruntwork-io/terraform-aws-vpc\">the repo</a> to request support for this feature</li>\n</ul>\n<p dir=\"auto\">Question, are you currently blocked by the lack of this functionality?</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "208c1b322302f82837576b45d4aeb892"
}
##DOCS-SOURCER-END -->
