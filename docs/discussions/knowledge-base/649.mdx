---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/649" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Running containerd on EKS 1.23</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84ASSw2","number":649,"author":{"login":"jeffreymlewis"},"title":"Running containerd on EKS 1.23","body":"\nHello,\r\n\r\nI'm trying to use `containerd` on our EKS 1.23 cluster. The cluster is installed with `v0.100.0` of the Gruntwork service catalog [eks-cluster](https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/modules/services/eks-cluster) module. I'm using Managed Node Groups. Unfortunately, adding `eks_bootstrap_script_options = \"--container-runtime containerd\"` to the node group configuration doesn't have the desired affect. I see the --container-runtime flag in the EC2 Launch Template, but the cloud-init script isn't using it. üôÅ \r\n\r\n```\r\n  managed_node_group_configurations = {\r\n    \"jlewis-${dependency.vpc.outputs.private_app_subnet_ids[0]}\" = {\r\n      subnet_ids                   = [dependency.vpc.outputs.private_app_subnet_ids[0]]\r\n      eks_bootstrap_script_options = \"--container-runtime containerd\"\r\n    }\r\n  }\r\n```\n\n---\n\n<ins datetime=\"2023-01-26T17:40:55Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109841\">Tracked in ticket #109841</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Hello,</p>\n<p dir=\"auto\">I'm trying to use <code class=\"notranslate\">containerd</code> on our EKS 1.23 cluster. The cluster is installed with <code class=\"notranslate\">v0.100.0</code> of the Gruntwork service catalog <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/modules/services/eks-cluster\">eks-cluster</a> module. I'm using Managed Node Groups. Unfortunately, adding <code class=\"notranslate\">eks_bootstrap_script_options = \"--container-runtime containerd\"</code> to the node group configuration doesn't have the desired affect. I see the --container-runtime flag in the EC2 Launch Template, but the cloud-init script isn't using it. üôÅ</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  managed_node_group_configurations = {\n    &quot;jlewis-${dependency.vpc.outputs.private_app_subnet_ids[0]}&quot; = {\n      subnet_ids                   = [dependency.vpc.outputs.private_app_subnet_ids[0]]\n      eks_bootstrap_script_options = &quot;--container-runtime containerd&quot;\n    }\n  }\"><pre class=\"notranslate\"><code class=\"notranslate\">  managed_node_group_configurations = {\n    \"jlewis-${dependency.vpc.outputs.private_app_subnet_ids[0]}\" = {\n      subnet_ids                   = [dependency.vpc.outputs.private_app_subnet_ids[0]]\n      eks_bootstrap_script_options = \"--container-runtime containerd\"\n    }\n  }\n</code></pre></div>\n<hr>\n<ins datetime=\"2023-01-26T17:40:55Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109841\" rel=\"nofollow\">Tracked in ticket #109841</a></p>\n</ins>","answer":{"body":"Hi @jeffreymlewis,\r\n\r\nHow are you leveraging the `eks-cluster` module in your infrastructure code? For example, did you start with one of the [examples](https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/examples) from the service-catalog, or did you write your own implementation/wrapper that leverages the modules in the service-catalog? ","bodyHTML":"<p dir=\"auto\">Hi <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jeffreymlewis/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jeffreymlewis\">@jeffreymlewis</a>,</p>\n<p dir=\"auto\">How are you leveraging the <code class=\"notranslate\">eks-cluster</code> module in your infrastructure code? For example, did you start with one of the <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/examples\">examples</a> from the service-catalog, or did you write your own implementation/wrapper that leverages the modules in the service-catalog?</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "7067d2226038a75b9ce98bd864e7deee"
}
##DOCS-SOURCER-END -->
