---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/218" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How do I build new AMIs from the Service Catalog?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AO3ZK","number":218,"author":{"login":"yorinasub17"},"title":"How do I build new AMIs from the Service Catalog?","body":"Some updates in the Service Catalog require rebuilding the AMIs for our servers. How do I do that? Can I do that through the `ecs-deploy-runner` pipeline in the Reference Architecture?","bodyHTML":"<p dir=\"auto\">Some updates in the Service Catalog require rebuilding the AMIs for our servers. How do I do that? Can I do that through the <code class=\"notranslate\">ecs-deploy-runner</code> pipeline in the Reference Architecture?</p>","answer":{"body":"In the reference architecture, we ship a few bash scripts in the folder `shared/YOUR_REGION/_regional/amis` (see our [example](https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/examples/for-production/infrastructure-live/shared/us-west-2/_regional/amis)), which can be used to build new AMIs from the service catalog. When updating, you can update the `REPO_REF` variables at the top and run the bash script after authenticating to the shared account to build the new AMI.\r\n\r\nAlternatively, you can follow the instructions [here](https://docs.gruntwork.io/reference/services/intro/deploy-new-infrastructure/#how-to-build-machine-images-using-packer-templates-from-the-service-catalog) to build the AMIs manually using `packer`.","bodyHTML":"<p dir=\"auto\">In the reference architecture, we ship a few bash scripts in the folder <code class=\"notranslate\">shared/YOUR_REGION/_regional/amis</code> (see our <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/examples/for-production/infrastructure-live/shared/us-west-2/_regional/amis\">example</a>), which can be used to build new AMIs from the service catalog. When updating, you can update the <code class=\"notranslate\">REPO_REF</code> variables at the top and run the bash script after authenticating to the shared account to build the new AMI.</p>\n<p dir=\"auto\">Alternatively, you can follow the instructions <a href=\"https://docs.gruntwork.io/reference/services/intro/deploy-new-infrastructure/#how-to-build-machine-images-using-packer-templates-from-the-service-catalog\" rel=\"nofollow\">here</a> to build the AMIs manually using <code class=\"notranslate\">packer</code>.</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "21dc1d0dfddd9c96efd8dde1189d50fb"
}
##DOCS-SOURCER-END -->
