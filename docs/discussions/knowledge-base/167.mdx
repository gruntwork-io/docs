---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How do I expose an RDS DB across VPCs?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AOsG5","number":167,"author":{"login":"yorinasub17"},"title":"How do I expose an RDS DB across VPCs?","body":"We need to expose an RDS DB (Aurora to be specific) to an external VPC without exposing it publicly. What is the best way to do this?","bodyHTML":"<p dir=\"auto\">We need to expose an RDS DB (Aurora to be specific) to an external VPC without exposing it publicly. What is the best way to do this?</p>","answer":{"body":"There are two ways to expose an RDS DB across VPCs:\r\n\r\n1. Using a VPC peering connection\r\n2. Using an RDS Proxy Endpoint\r\n\r\nOf the two, the preferred mechanism would be to setup a proxy endpoint. Proxy endpoints can be configured with arbitrary security groups which allows you define fine grained network access rules when exposing it to other VPCs. This has the advantage of being able to configure dedicated access rules on a per endpoint basis, which can be easier to maintain and manage (e.g., you can have a dedicated proxy endpoint for a particular VPC connection that has the context of what SGs and CIDRs should be allowed access, vs maintaining a combined unified list on the DB SG itself).\r\n\r\nAnother advantage of proxy endpoints is that you can limit the cross VPC access to just the Aurora DB. A VPC peer exposes everything in the VPC to the other VPC, so that is something to consider when choosing between the two.\r\n\r\nThat said, Gruntwork modules currently do not support configuring proxy endpoints, so if you want to go down this path, you will have to create a wrapper module that creates the `aws_db_proxy_endpoint` terraform resource.\r\n\r\n---\r\n\r\nOn the other hand, the advantage of VPC peering is that it is much simpler to configure and maintain, since all it is doing is bridging the network between the two VPCs so that it looks like one. This is operationally easier to reason and manage, so is preferable if the security concerns above (fine grained ACL and exposing more resources than the DB) are not an issue.\r\n\r\nYou can configure a VPC peering connection by using the [vpc-peering](https://github.com/gruntwork-io/terraform-aws-vpc/tree/master/modules/vpc-peering) or [vpc-peering-external](https://github.com/gruntwork-io/terraform-aws-vpc/tree/master/modules/vpc-peering-external) modules, depending on if the target VPC lives in the same account or not.","bodyHTML":"<p dir=\"auto\">There are two ways to expose an RDS DB across VPCs:</p>\n<ol dir=\"auto\">\n<li>Using a VPC peering connection</li>\n<li>Using an RDS Proxy Endpoint</li>\n</ol>\n<p dir=\"auto\">Of the two, the preferred mechanism would be to setup a proxy endpoint. Proxy endpoints can be configured with arbitrary security groups which allows you define fine grained network access rules when exposing it to other VPCs. This has the advantage of being able to configure dedicated access rules on a per endpoint basis, which can be easier to maintain and manage (e.g., you can have a dedicated proxy endpoint for a particular VPC connection that has the context of what SGs and CIDRs should be allowed access, vs maintaining a combined unified list on the DB SG itself).</p>\n<p dir=\"auto\">Another advantage of proxy endpoints is that you can limit the cross VPC access to just the Aurora DB. A VPC peer exposes everything in the VPC to the other VPC, so that is something to consider when choosing between the two.</p>\n<p dir=\"auto\">That said, Gruntwork modules currently do not support configuring proxy endpoints, so if you want to go down this path, you will have to create a wrapper module that creates the <code class=\"notranslate\">aws_db_proxy_endpoint</code> terraform resource.</p>\n<hr>\n<p dir=\"auto\">On the other hand, the advantage of VPC peering is that it is much simpler to configure and maintain, since all it is doing is bridging the network between the two VPCs so that it looks like one. This is operationally easier to reason and manage, so is preferable if the security concerns above (fine grained ACL and exposing more resources than the DB) are not an issue.</p>\n<p dir=\"auto\">You can configure a VPC peering connection by using the <a href=\"https://github.com/gruntwork-io/terraform-aws-vpc/tree/master/modules/vpc-peering\">vpc-peering</a> or <a href=\"https://github.com/gruntwork-io/terraform-aws-vpc/tree/master/modules/vpc-peering-external\">vpc-peering-external</a> modules, depending on if the target VPC lives in the same account or not.</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "70868a92708332aac9bd3b05ea3c5808"
}
##DOCS-SOURCER-END -->
