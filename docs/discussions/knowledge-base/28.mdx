---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/28" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Steps to migrate from traditional to multi account CloudTrail</h1>
<GitHub discussion={{"id":"MDEwOkRpc2N1c3Npb24zNTU0OTEx","number":28,"author":{"login":"gruntwork-support"},"title":"Steps to migrate from traditional to multi account CloudTrail","body":"_This message was extracted from a discussion that originally took place in Gruntwork Community Slack. Names and URLs have been removed where appropriate_\n\n\n**From a customer**\n\nHey there,\n\nI have a short question and I hope that I did not miss the documentation for that. As far as I know you added support for the AWS organization cloud trail to the `aws-security-module` in one of the last versions.\n\nIs there a migration path or documentation available which describes which steps are required to move from a traditional multi account cloud trail setup to organization trail with the Gruntwork module.\n\nThanks in advance and best regards","bodyHTML":"<p dir=\"auto\"><em>This message was extracted from a discussion that originally took place in Gruntwork Community Slack. Names and URLs have been removed where appropriate</em></p>\n<p dir=\"auto\"><strong>From a customer</strong></p>\n<p dir=\"auto\">Hey there,</p>\n<p dir=\"auto\">I have a short question and I hope that I did not miss the documentation for that. As far as I know you added support for the AWS organization cloud trail to the <code class=\"notranslate\">aws-security-module</code> in one of the last versions.</p>\n<p dir=\"auto\">Is there a migration path or documentation available which describes which steps are required to move from a traditional multi account cloud trail setup to organization trail with the Gruntwork module.</p>\n<p dir=\"auto\">Thanks in advance and best regards</p>","answer":{"body":"**From a grunt**\n\nHi person,\n\nI'd actually advise you to use [v0.48.1](https://github.com/gruntwork-io/terraform-aws-security/releases/tag/v0.48.1) or later due to a couple of bugs in the initial release of the Organizations CloudTrail feature. The bugs were resolved in that version. Do note the `WARNING` about undeleting the KMS key to ensure that old CloudTrail logs remain readable after updating.\n\nNo other specific steps are required to migrate. You can bump the version of `terraform-aws-security` (being sure to review the release notes between your current version and `v0.48.1` in case something else changed), then add `cloudtrail_is_organization_trail = true` to `account-baseline-root`, which I assume you're using, and set `enable_cloudtrail = false` in `account-baseline-app` and `account-baseline-security`. This should update the trail to be an Organization trail. Those steps are covered in the [v0.45.3](https://github.com/gruntwork-io/terraform-aws-security/releases/tag/v0.45.3) release notes.\n\nI hope this helps!","bodyHTML":"<p dir=\"auto\"><strong>From a grunt</strong></p>\n<p dir=\"auto\">Hi person,</p>\n<p dir=\"auto\">I'd actually advise you to use <a href=\"https://github.com/gruntwork-io/terraform-aws-security/releases/tag/v0.48.1\">v0.48.1</a> or later due to a couple of bugs in the initial release of the Organizations CloudTrail feature. The bugs were resolved in that version. Do note the <code class=\"notranslate\">WARNING</code> about undeleting the KMS key to ensure that old CloudTrail logs remain readable after updating.</p>\n<p dir=\"auto\">No other specific steps are required to migrate. You can bump the version of <code class=\"notranslate\">terraform-aws-security</code> (being sure to review the release notes between your current version and <code class=\"notranslate\">v0.48.1</code> in case something else changed), then add <code class=\"notranslate\">cloudtrail_is_organization_trail = true</code> to <code class=\"notranslate\">account-baseline-root</code>, which I assume you're using, and set <code class=\"notranslate\">enable_cloudtrail = false</code> in <code class=\"notranslate\">account-baseline-app</code> and <code class=\"notranslate\">account-baseline-security</code>. This should update the trail to be an Organization trail. Those steps are covered in the <a href=\"https://github.com/gruntwork-io/terraform-aws-security/releases/tag/v0.45.3\">v0.45.3</a> release notes.</p>\n<p dir=\"auto\">I hope this helps!</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "b9d82b1416e906a04946b7c815210c18"
}
##DOCS-SOURCER-END -->
