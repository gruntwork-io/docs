---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/393" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How can we merge inputs, when i excute the B.hcl (which has inputs init) it should also take/ merge inputs from A.hcl (which also has inputs ) without any need of additional files.</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84APYa4","number":393,"author":{"login":"skkc2"},"title":"How can we merge inputs, when i excute the B.hcl (which has inputs init) it should also take/ merge inputs from A.hcl (which also has inputs ) without any need of additional files.","body":"\nHi there,\r\n\r\nHow can we merge inputs, when i execute the B.hcl (which has inputs init) it should also take/ merge inputs from A.hcl (which also has inputs ) without any need of additional files.\r\n\r\nHere's my code for reference \r\n\r\n```\r\n\r\nB.hcl\r\n\r\nterraform {\r\n  source = \"${include.env.locals.base_source_url}?ref=v0.0.7\"\r\n}\r\ninclude \"root\" {\r\n  path = find_in_parent_folders()\r\n}\r\ninclude \"env\" {\r\n  path   = \"../env/A.hcl\"\r\n  expose = true\r\n}\r\n\r\ninputs = merge (\r\n  include.env.inputs,\r\n{\r\n  security_groups = [\r\n    {\r\n      name                                  = \"ec2\"\r\n      description                           = \"EC2 \"\r\n    }\r\n  ]\r\n  \r\n}\r\n)\r\n\r\n\r\nA.HCL\r\nlocals {\r\n  base_source_url = \"repo_URL\" \r\n  sg_vars = read_terragrunt_config(\"sg.hcl\")\r\n  sg_name = local.sg_vars.locals.sg\r\n}\r\n\r\ndependency \"vpc\" {\r\n  config_path = \"../../vpc\"\r\n}\r\n\r\ninputs = {\r\n  vpc_id = dependency.vpc.outputs.vpc_id\r\n  security_groups = [\r\n    {\r\n      name                                  = \"ec2${local.sg_name}_0\"\r\n      description                           = \"EC2_00\"\r\n    },\r\n    {\r\n      name                                  = \"ec2${local.sg_name}_1\"\r\n      description                           = \"EC2 _01\"\r\n    }\r\n  ]\r\n  tags = {\r\n    Terraform = true\r\n  }\r\n}\r\n```\n\n---\n\n<ins datetime=\"2022-04-25T10:56:22Z\">\n  <p><a href=\"https://gruntwork.zendesk.com/agent/tickets/108490\">Tracked in ticket #108490</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Hi there,</p>\n<p dir=\"auto\">How can we merge inputs, when i execute the B.hcl (which has inputs init) it should also take/ merge inputs from A.hcl (which also has inputs ) without any need of additional files.</p>\n<p dir=\"auto\">Here's my code for reference</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"\nB.hcl\n\nterraform {\n  source = &quot;${include.env.locals.base_source_url}?ref=v0.0.7&quot;\n}\ninclude &quot;root&quot; {\n  path = find_in_parent_folders()\n}\ninclude &quot;env&quot; {\n  path   = &quot;../env/A.hcl&quot;\n  expose = true\n}\n\ninputs = merge (\n  include.env.inputs,\n{\n  security_groups = [\n    {\n      name                                  = &quot;ec2&quot;\n      description                           = &quot;EC2 &quot;\n    }\n  ]\n  \n}\n)\n\n\nA.HCL\nlocals {\n  base_source_url = &quot;repo_URL&quot; \n  sg_vars = read_terragrunt_config(&quot;sg.hcl&quot;)\n  sg_name = local.sg_vars.locals.sg\n}\n\ndependency &quot;vpc&quot; {\n  config_path = &quot;../../vpc&quot;\n}\n\ninputs = {\n  vpc_id = dependency.vpc.outputs.vpc_id\n  security_groups = [\n    {\n      name                                  = &quot;ec2${local.sg_name}_0&quot;\n      description                           = &quot;EC2_00&quot;\n    },\n    {\n      name                                  = &quot;ec2${local.sg_name}_1&quot;\n      description                           = &quot;EC2 _01&quot;\n    }\n  ]\n  tags = {\n    Terraform = true\n  }\n}\"><pre class=\"notranslate\"><code class=\"notranslate\">\nB.hcl\n\nterraform {\n  source = \"${include.env.locals.base_source_url}?ref=v0.0.7\"\n}\ninclude \"root\" {\n  path = find_in_parent_folders()\n}\ninclude \"env\" {\n  path   = \"../env/A.hcl\"\n  expose = true\n}\n\ninputs = merge (\n  include.env.inputs,\n{\n  security_groups = [\n    {\n      name                                  = \"ec2\"\n      description                           = \"EC2 \"\n    }\n  ]\n  \n}\n)\n\n\nA.HCL\nlocals {\n  base_source_url = \"repo_URL\" \n  sg_vars = read_terragrunt_config(\"sg.hcl\")\n  sg_name = local.sg_vars.locals.sg\n}\n\ndependency \"vpc\" {\n  config_path = \"../../vpc\"\n}\n\ninputs = {\n  vpc_id = dependency.vpc.outputs.vpc_id\n  security_groups = [\n    {\n      name                                  = \"ec2${local.sg_name}_0\"\n      description                           = \"EC2_00\"\n    },\n    {\n      name                                  = \"ec2${local.sg_name}_1\"\n      description                           = \"EC2 _01\"\n    }\n  ]\n  tags = {\n    Terraform = true\n  }\n}\n</code></pre></div>\n<hr>\n<ins datetime=\"2022-04-25T10:56:22Z\">\n  <p dir=\"auto\"><a href=\"https://gruntwork.zendesk.com/agent/tickets/108490\" rel=\"nofollow\">Tracked in ticket #108490</a></p>\n</ins>","answer":{"body":"Inputs are automatically merged across includes, so there is no need for the explicit merge call with `expose`.\r\n\r\nSince I observe in your example that you have the `security_groups` key in both files, I suspect what you are looking for is deep merge. Refer to the section \"What is deep merge?\" in the [include blocks reference](https://terragrunt.gruntwork.io/docs/reference/config-blocks-and-attributes/#include) for more details.","bodyHTML":"<p dir=\"auto\">Inputs are automatically merged across includes, so there is no need for the explicit merge call with <code class=\"notranslate\">expose</code>.</p>\n<p dir=\"auto\">Since I observe in your example that you have the <code class=\"notranslate\">security_groups</code> key in both files, I suspect what you are looking for is deep merge. Refer to the section \"What is deep merge?\" in the <a href=\"https://terragrunt.gruntwork.io/docs/reference/config-blocks-and-attributes/#include\" rel=\"nofollow\">include blocks reference</a> for more details.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "4f26e382635797aa9ad3d16d99efbe42"
}
##DOCS-SOURCER-END -->
