---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/15" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Secrets Management and outputs reference</h1>
<GitHub discussion={{"id":"MDEwOkRpc2N1c3Npb24zNTQ3MTMz","number":15,"author":{"login":"gruntwork-support"},"title":"Secrets Management and outputs reference","body":"_This message was extracted from a discussion that originally took place in Gruntwork Community Slack. Names and URLs have been removed where appropriate_\n\n**From a customer**\n\nHey all! My goal is to create an aurora cluster, take the cluster url that is generated after-the-apply, and seamlessly pass that, one way or another, to my application (which is configured as a backend ecs service). I'd also ideally like this to be dynamic, so that if that URL was to change, the change would make its way to my application.\n\nFirstly, to do this, I'd need to reference the output of one gruntwork module in another. I'm having a hard time finding the docs that explain how to do this, if it's possible at all.\n\nSecondly, I'm curious if anyone has an opinion on the \"best\" way to do this. Thoughts I've had so far are:\n\n- set the URL as an environment variable on the ecs service\n- create a secret in the secrets manager and have my app pull that secret during runtime to get the URL.\n\nThe issue I see with both of these approaches is that its not very dynamic. At the very least, I'd have to wait for an aurora failure and potentially reload the secret in that scenario in case it has changed.\nThanks in advance!!","bodyHTML":"<p dir=\"auto\"><em>This message was extracted from a discussion that originally took place in Gruntwork Community Slack. Names and URLs have been removed where appropriate</em></p>\n<p dir=\"auto\"><strong>From a customer</strong></p>\n<p dir=\"auto\">Hey all! My goal is to create an aurora cluster, take the cluster url that is generated after-the-apply, and seamlessly pass that, one way or another, to my application (which is configured as a backend ecs service). I'd also ideally like this to be dynamic, so that if that URL was to change, the change would make its way to my application.</p>\n<p dir=\"auto\">Firstly, to do this, I'd need to reference the output of one gruntwork module in another. I'm having a hard time finding the docs that explain how to do this, if it's possible at all.</p>\n<p dir=\"auto\">Secondly, I'm curious if anyone has an opinion on the \"best\" way to do this. Thoughts I've had so far are:</p>\n<ul dir=\"auto\">\n<li>set the URL as an environment variable on the ecs service</li>\n<li>create a secret in the secrets manager and have my app pull that secret during runtime to get the URL.</li>\n</ul>\n<p dir=\"auto\">The issue I see with both of these approaches is that its not very dynamic. At the very least, I'd have to wait for an aurora failure and potentially reload the secret in that scenario in case it has changed.<br>\nThanks in advance!!</p>","answer":{"body":"**From a grunt**\n\nHey, person. See my responses below:\n\n> Firstly, to do this, I’d need to reference the output of one gruntwork module in another. I’m having a hard time finding the docs that explain how to do this, if it’s possible at all.\n\nYes, it would be possible - it might depend on your code structure. You can have a look at one example with aurora [here](https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/e1f5e12ab8e804e7c79c04d518dff9f25c86580a/examples/for-learning-and-testing/data-stores/aurora/main.tf#L77). You can also use `remote_state` for referring to other data which is on a [separate TF configuration.](www.terraform.io/docs/language/state/remote-state-data.html)\n\n> Secondly, I'm curious if anyone has an opinion on the \"best\" way to do this. Thoughts I've had so far are:\n>\n> - set the URL as an environment variable on the ecs service\n> - create a secret in the secrets manager and have my app pull that secret during runtime to get the URL.\n\nBoth of these are viable options.I’ll have to look a bit deeper, but on top of my head: the things you might have to consider is if you update the ecs service with a new variable, you might need to restart the service. I don’t see anything wrong with the secrets approach, but I’d have to check with other Grunts in case I’m missing something obvious here.","bodyHTML":"<p dir=\"auto\"><strong>From a grunt</strong></p>\n<p dir=\"auto\">Hey, person. See my responses below:</p>\n<blockquote>\n<p dir=\"auto\">Firstly, to do this, I’d need to reference the output of one gruntwork module in another. I’m having a hard time finding the docs that explain how to do this, if it’s possible at all.</p>\n</blockquote>\n<p dir=\"auto\">Yes, it would be possible - it might depend on your code structure. You can have a look at one example with aurora <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/e1f5e12ab8e804e7c79c04d518dff9f25c86580a/examples/for-learning-and-testing/data-stores/aurora/main.tf#L77\">here</a>. You can also use <code class=\"notranslate\">remote_state</code> for referring to other data which is on a <a href=\"www.terraform.io/docs/language/state/remote-state-data.html\">separate TF configuration.</a></p>\n<blockquote>\n<p dir=\"auto\">Secondly, I'm curious if anyone has an opinion on the \"best\" way to do this. Thoughts I've had so far are:</p>\n<ul dir=\"auto\">\n<li>set the URL as an environment variable on the ecs service</li>\n<li>create a secret in the secrets manager and have my app pull that secret during runtime to get the URL.</li>\n</ul>\n</blockquote>\n<p dir=\"auto\">Both of these are viable options.I’ll have to look a bit deeper, but on top of my head: the things you might have to consider is if you update the ecs service with a new variable, you might need to restart the service. I don’t see anything wrong with the secrets approach, but I’d have to check with other Grunts in case I’m missing something obvious here.</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "52460e64b1d494c5f542c6e7ad7dbf06"
}
##DOCS-SOURCER-END -->
