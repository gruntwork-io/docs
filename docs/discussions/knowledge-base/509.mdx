---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/509" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Terraform and Gruntwork for Serverless</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQGeH","number":509,"author":{"login":"iangrunt"},"title":"Terraform and Gruntwork for Serverless","body":"\nDoes Gruntwork have any general guidance on how I can leverage my subscription and RefArch to build serverless apps? \n\n---\n\n<ins datetime=\"2022-07-16T00:54:26Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/108998\">Tracked in ticket #108998</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Does Gruntwork have any general guidance on how I can leverage my subscription and RefArch to build serverless apps?</p>\n<hr>\n<ins datetime=\"2022-07-16T00:54:26Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/108998\" rel=\"nofollow\">Tracked in ticket #108998</a></p>\n</ins>","answer":{"body":"We don't have an explicit guide on how to leverage the serverless modules in `terraform-aws-lambda` with your Reference Architecture. We hope to have some examples we can offer in the near future, but for the moment we don't have anything we can share.\r\n\r\nIn the meantime, the general approach we recommend for serverless apps in the Reference Architecture is as follows:\r\n\r\n- Use [container based lambda functions](https://docs.aws.amazon.com/lambda/latest/dg/images-create.html). This allows you to separate the build and packaging steps from Terraform in a clean way.\r\n- Create a CI/CD pipeline on the application code such that a new container image is created in reaction to updates to the code. A general practice you can follow is to build a new image on every commit on the default branch (`main` or `master`) tagged with the commit SHA, and then to build a new image tagged with the release tag on every release. Note that you will want this pipeline to push the container image to ECR at the completion so that it can be deployed.\r\n- Once the container is built and pushed to ECR, use the [lambda](https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/modules/services/lambda) module from the Service Catalog to deploy the image as a lambda function. Since we don't have an example, refer to the general guidelines in [this knowledge base post](https://github.com/gruntwork-io/knowledge-base/discussions/360) for how to deploy a service catalog module without an explicit example.","bodyHTML":"<p dir=\"auto\">We don't have an explicit guide on how to leverage the serverless modules in <code class=\"notranslate\">terraform-aws-lambda</code> with your Reference Architecture. We hope to have some examples we can offer in the near future, but for the moment we don't have anything we can share.</p>\n<p dir=\"auto\">In the meantime, the general approach we recommend for serverless apps in the Reference Architecture is as follows:</p>\n<ul dir=\"auto\">\n<li>Use <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/images-create.html\" rel=\"nofollow\">container based lambda functions</a>. This allows you to separate the build and packaging steps from Terraform in a clean way.</li>\n<li>Create a CI/CD pipeline on the application code such that a new container image is created in reaction to updates to the code. A general practice you can follow is to build a new image on every commit on the default branch (<code class=\"notranslate\">main</code> or <code class=\"notranslate\">master</code>) tagged with the commit SHA, and then to build a new image tagged with the release tag on every release. Note that you will want this pipeline to push the container image to ECR at the completion so that it can be deployed.</li>\n<li>Once the container is built and pushed to ECR, use the <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/modules/services/lambda\">lambda</a> module from the Service Catalog to deploy the image as a lambda function. Since we don't have an example, refer to the general guidelines in <a href=\"https://github.com/gruntwork-io/knowledge-base/discussions/360\" data-hovercard-type=\"discussion\" data-hovercard-url=\"/gruntwork-io/knowledge-base/discussions/360/hovercard\">this knowledge base post</a> for how to deploy a service catalog module without an explicit example.</li>\n</ul>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "066d7026dcd3d2fd216aa7d5a085b44e"
}
##DOCS-SOURCER-END -->
