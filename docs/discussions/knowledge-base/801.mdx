---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/801" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>VSCode and terragrunt</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AXdnJ","number":801,"author":{"login":"sarkis"},"title":"VSCode and terragrunt","body":"\r\nIs there a recommended way to get get formatting for terragrunt enabled on vscode? I am trying to use a custom formatter, but this seems to cause some odd issues where on file save, the contents of the file vs the editor are different. Here is the snippet from settings:\r\n\r\n```\r\n\"[hcl]\": {\r\n    \"editor.defaultFormatter\": \"jkillian.custom-local-formatters\",\r\n  },\r\n  \"customLocalFormatters.formatters\": [\r\n      {\r\n        \"command\": \"terragrunt hclfmt -\",\r\n        \"languages\": [\"hcl\"]\r\n      }\r\n    ],\r\n```\r\n\r\n\r\n Error I get randomly when using this:\r\n \r\n ```\r\nFailed to save 'terragrunt.hcl': The content of the file is newer. Please compare your version with the file contents or overwrite the content of the file with your changes.\r\n```\r\n\r\n---\r\n\r\n<ins datetime=\"2024-01-29T20:25:06Z\">\r\n  <p><a href=\"https://support.gruntwork.io/hc/requests/110728\">Tracked in ticket #110728</a></p>\r\n</ins>\r\n","bodyHTML":"<p dir=\"auto\">Is there a recommended way to get get formatting for terragrunt enabled on vscode? I am trying to use a custom formatter, but this seems to cause some odd issues where on file save, the contents of the file vs the editor are different. Here is the snippet from settings:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&quot;[hcl]&quot;: {\n    &quot;editor.defaultFormatter&quot;: &quot;jkillian.custom-local-formatters&quot;,\n  },\n  &quot;customLocalFormatters.formatters&quot;: [\n      {\n        &quot;command&quot;: &quot;terragrunt hclfmt -&quot;,\n        &quot;languages&quot;: [&quot;hcl&quot;]\n      }\n    ],\"><pre class=\"notranslate\"><code class=\"notranslate\">\"[hcl]\": {\n    \"editor.defaultFormatter\": \"jkillian.custom-local-formatters\",\n  },\n  \"customLocalFormatters.formatters\": [\n      {\n        \"command\": \"terragrunt hclfmt -\",\n        \"languages\": [\"hcl\"]\n      }\n    ],\n</code></pre></div>\n<p dir=\"auto\">Error I get randomly when using this:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Failed to save 'terragrunt.hcl': The content of the file is newer. Please compare your version with the file contents or overwrite the content of the file with your changes.\"><pre class=\"notranslate\"><code class=\"notranslate\">Failed to save 'terragrunt.hcl': The content of the file is newer. Please compare your version with the file contents or overwrite the content of the file with your changes.\n</code></pre></div>\n<hr>\n<ins datetime=\"2024-01-29T20:25:06Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/110728\" rel=\"nofollow\">Tracked in ticket #110728</a></p>\n</ins>","answer":{"body":"Hi,\r\nyes, now `terragrunt hclfmt` formats all files even before visual code save file, in my projects I use workaround script `format.sh` which save stdin to a temporary file, run formatting on it and read it back:\r\n\r\n```\r\n#!/bin/bash\r\ntemp_file=$(mktemp)\r\n# save input to a temp file\r\ncat > \"$temp_file\"\r\n# format single file\r\nterragrunt hclfmt --terragrunt-hclfmt-file \"$temp_file\"\r\n# print rendered file\r\ncat \"$temp_file\"\r\n# clean temporary file\r\nrm -f \"$temp_file\"\r\n```\r\n\r\nConfiguration in `settings.json`:\r\n```\r\n{\r\n  \"editor.formatOnSave\": true,\r\n  \"[hcl]\": {\r\n    \"editor.defaultFormatter\": \"jkillian.custom-local-formatters\",\r\n  },\r\n  \"customLocalFormatters.formatters\": [\r\n    {\r\n      \"command\": \"./format.sh\",\r\n      \"languages\": [\r\n        \"hcl\"\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```","bodyHTML":"<p dir=\"auto\">Hi,<br>\nyes, now <code class=\"notranslate\">terragrunt hclfmt</code> formats all files even before visual code save file, in my projects I use workaround script <code class=\"notranslate\">format.sh</code> which save stdin to a temporary file, run formatting on it and read it back:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"#!/bin/bash\ntemp_file=$(mktemp)\n# save input to a temp file\ncat &gt; &quot;$temp_file&quot;\n# format single file\nterragrunt hclfmt --terragrunt-hclfmt-file &quot;$temp_file&quot;\n# print rendered file\ncat &quot;$temp_file&quot;\n# clean temporary file\nrm -f &quot;$temp_file&quot;\"><pre class=\"notranslate\"><code class=\"notranslate\">#!/bin/bash\ntemp_file=$(mktemp)\n# save input to a temp file\ncat &gt; \"$temp_file\"\n# format single file\nterragrunt hclfmt --terragrunt-hclfmt-file \"$temp_file\"\n# print rendered file\ncat \"$temp_file\"\n# clean temporary file\nrm -f \"$temp_file\"\n</code></pre></div>\n<p dir=\"auto\">Configuration in <code class=\"notranslate\">settings.json</code>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"{\n  &quot;editor.formatOnSave&quot;: true,\n  &quot;[hcl]&quot;: {\n    &quot;editor.defaultFormatter&quot;: &quot;jkillian.custom-local-formatters&quot;,\n  },\n  &quot;customLocalFormatters.formatters&quot;: [\n    {\n      &quot;command&quot;: &quot;./format.sh&quot;,\n      &quot;languages&quot;: [\n        &quot;hcl&quot;\n      ]\n    }\n  ]\n}\"><pre class=\"notranslate\"><code class=\"notranslate\">{\n  \"editor.formatOnSave\": true,\n  \"[hcl]\": {\n    \"editor.defaultFormatter\": \"jkillian.custom-local-formatters\",\n  },\n  \"customLocalFormatters.formatters\": [\n    {\n      \"command\": \"./format.sh\",\n      \"languages\": [\n        \"hcl\"\n      ]\n    }\n  ]\n}\n</code></pre></div>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "a4a12ac25248cbd5fcfa44d257455ea2"
}
##DOCS-SOURCER-END -->
