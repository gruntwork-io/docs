---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/397" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Using .tfvars file in terragrunt</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84APael","number":397,"author":{"login":"yorinasub17"},"title":"Using .tfvars file in terragrunt","body":"\nIs it possible to use a value in a `.tfvars` file that I have as part of a `generate` block?\r\n\r\n```\r\ngenerate \"k8s\" {\r\n  path      = \"k8s_provider.tf\"\r\n  if_exists = \"overwrite_terragrunt\"\r\n  contents = templatefile(\r\n    find_in_parent_folders(\"provider_k8s_for_eks.template.hcl\"),\r\n    { eks_cluster_name = \"${local.cluster_name}\" },\r\n  )\r\n}\r\n```\r\n\r\nbut I have `cluster_name` in a `tfvars` file that I run as part of part of an `required_var_files`.\n\n---\n\n<ins datetime=\"2022-04-28T14:28:32Z\">\n  <p><a href=\"https://gruntwork.zendesk.com/agent/tickets/108521\">Tracked in ticket #108521</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Is it possible to use a value in a <code class=\"notranslate\">.tfvars</code> file that I have as part of a <code class=\"notranslate\">generate</code> block?</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"generate &quot;k8s&quot; {\n  path      = &quot;k8s_provider.tf&quot;\n  if_exists = &quot;overwrite_terragrunt&quot;\n  contents = templatefile(\n    find_in_parent_folders(&quot;provider_k8s_for_eks.template.hcl&quot;),\n    { eks_cluster_name = &quot;${local.cluster_name}&quot; },\n  )\n}\"><pre class=\"notranslate\"><code class=\"notranslate\">generate \"k8s\" {\n  path      = \"k8s_provider.tf\"\n  if_exists = \"overwrite_terragrunt\"\n  contents = templatefile(\n    find_in_parent_folders(\"provider_k8s_for_eks.template.hcl\"),\n    { eks_cluster_name = \"${local.cluster_name}\" },\n  )\n}\n</code></pre></div>\n<p dir=\"auto\">but I have <code class=\"notranslate\">cluster_name</code> in a <code class=\"notranslate\">tfvars</code> file that I run as part of part of an <code class=\"notranslate\">required_var_files</code>.</p>\n<hr>\n<ins datetime=\"2022-04-28T14:28:32Z\">\n  <p dir=\"auto\"><a href=\"https://gruntwork.zendesk.com/agent/tickets/108521\" rel=\"nofollow\">Tracked in ticket #108521</a></p>\n</ins>","answer":{"body":"There are two ways to do this:\r\n\r\n- If these variables are exposed in the module, then you can reference them directly in the generated terraform code as `var`.\r\n    - One gotcha is that you will need to escape interpolations (e.g., use double dollar like `$${}`) to avoid terragrunt attempting to render them.\r\n    - Specifically, you can change the `provider_k8s_for_eks.template.hcl` to replace instances of `${eks_cluster_name}` with `$${var.cluster_name}`.\r\n- The second approach is to attempt to read the tfvars file into terragrunt to reference them. Unfortunately, we don't have a helper that lets you read in `.tfvars` files in HCL format, so the only way to do this would be to use `json` format and read it in using `jsondecode`.\r\n\r\nRelated: https://github.com/gruntwork-io/terragrunt/issues/1621","bodyHTML":"<p dir=\"auto\">There are two ways to do this:</p>\n<ul dir=\"auto\">\n<li>If these variables are exposed in the module, then you can reference them directly in the generated terraform code as <code class=\"notranslate\">var</code>.\n<ul dir=\"auto\">\n<li>One gotcha is that you will need to escape interpolations (e.g., use double dollar like <code class=\"notranslate\">$${}</code>) to avoid terragrunt attempting to render them.</li>\n<li>Specifically, you can change the <code class=\"notranslate\">provider_k8s_for_eks.template.hcl</code> to replace instances of <code class=\"notranslate\">${eks_cluster_name}</code> with <code class=\"notranslate\">$${var.cluster_name}</code>.</li>\n</ul>\n</li>\n<li>The second approach is to attempt to read the tfvars file into terragrunt to reference them. Unfortunately, we don't have a helper that lets you read in <code class=\"notranslate\">.tfvars</code> files in HCL format, so the only way to do this would be to use <code class=\"notranslate\">json</code> format and read it in using <code class=\"notranslate\">jsondecode</code>.</li>\n</ul>\n<p dir=\"auto\">Related: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"844418512\" data-permission-text=\"Title is private\" data-url=\"https://github.com/gruntwork-io/terragrunt/issues/1621\" data-hovercard-type=\"issue\" data-hovercard-url=\"/gruntwork-io/terragrunt/issues/1621/hovercard\" href=\"https://github.com/gruntwork-io/terragrunt/issues/1621\">gruntwork-io/terragrunt#1621</a></p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "e226b4c31dffa7ade76567eeb356ec2b"
}
##DOCS-SOURCER-END -->
