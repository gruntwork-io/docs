---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/217" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How to use a field from a Terraform multi-fields Output in Terratest</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AO3RW","number":217,"author":{"login":"arimaverick"},"title":"How to use a field from a Terraform multi-fields Output in Terratest","body":"[Hi,](https://github.com/gruntwork-io/terratest)\r\nI am printing all the attributes of a resource in Terraform via the following: value = \"<resource_type>/<logical_name>\" \r\nfor example value = aws_instance.web. \r\nHowever when I get the output in Terratest I am getting it as a string which actually contains map[]. Hence any golang map activities to get particular attribute of that output fails.\r\n\r\nSmall Test:\r\n\r\n`output \"aws_vm_details\" {\r\n    value = aws_instance.web\r\n}`\r\n\r\n`awsVMDetails := terraform.Output(t, terraformOptions, \"aws_vm_details\")\r\nt.Logf(\"AWS_VM_DETAILS: %s of type %s\", awsVMDetails[\"ami\"], reflect.TypeOf(awsVMDetails))`\r\n\r\nI get the error in that case: `non-integer string index \"ami\"`\r\nawsVMDetails is returned as `string`\r\nKindly help me to find the solution to get/interpret a particular field from a Terraform Output that provides multiple fields. ","bodyHTML":"<p dir=\"auto\"><a href=\"https://github.com/gruntwork-io/terratest\">Hi,</a><br>\nI am printing all the attributes of a resource in Terraform via the following: value = \"&lt;resource_type&gt;/&lt;logical_name&gt;\"<br>\nfor example value = aws_instance.web.<br>\nHowever when I get the output in Terratest I am getting it as a string which actually contains map[]. Hence any golang map activities to get particular attribute of that output fails.</p>\n<p dir=\"auto\">Small Test:</p>\n<p dir=\"auto\"><code class=\"notranslate\">output \"aws_vm_details\" { value = aws_instance.web }</code></p>\n<p dir=\"auto\"><code class=\"notranslate\">awsVMDetails := terraform.Output(t, terraformOptions, \"aws_vm_details\") t.Logf(\"AWS_VM_DETAILS: %s of type %s\", awsVMDetails[\"ami\"], reflect.TypeOf(awsVMDetails))</code></p>\n<p dir=\"auto\">I get the error in that case: <code class=\"notranslate\">non-integer string index \"ami\"</code><br>\nawsVMDetails is returned as <code class=\"notranslate\">string</code><br>\nKindly help me to find the solution to get/interpret a particular field from a Terraform Output that provides multiple fields.</p>","answer":{"body":"Hi,\r\nI think it depends on which are keys and values of map:\r\n * can be used [OutputMap](https://github.com/gruntwork-io/terratest/blob/master/modules/terraform/output.go#L230) for string keys / values\r\n * output can be read as [map[string]interface{} ](https://github.com/gruntwork-io/terratest/blob/master/modules/terraform/output.go#L258) and then casted to expected format \r\n * can be used reading as [JSON](https://github.com/gruntwork-io/terratest/blob/master/modules/terraform/output.go#L267\r\n) and then deserialized\r\n","bodyHTML":"<p dir=\"auto\">Hi,<br>\nI think it depends on which are keys and values of map:</p>\n<ul dir=\"auto\">\n<li>can be used <a href=\"https://github.com/gruntwork-io/terratest/blob/master/modules/terraform/output.go#L230\">OutputMap</a> for string keys / values</li>\n<li>output can be read as <a href=\"https://github.com/gruntwork-io/terratest/blob/master/modules/terraform/output.go#L258\">map[string]interface{} </a> and then casted to expected format</li>\n<li>can be used reading as <a href=\"https://github.com/gruntwork-io/terratest/blob/master/modules/terraform/output.go#L267\">JSON</a> and then deserialized</li>\n</ul>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "d8cd180e54d1eb39c900e124f567c5cd"
}
##DOCS-SOURCER-END -->
