---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/541" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Where is the Sample App container that the Reference Architecture deploys?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQgoL","number":541,"author":{"login":"pete0emerson"},"title":"Where is the Sample App container that the Reference Architecture deploys?","body":"\nRef Arch Customers: Where is the “sample app” containers that EKS uses to spin up? (In ECR?) Wouldn’t those be in our repo/“shared” account? Or is there an example using a container image from ECR in the “shared” account and spinning up EKS w/ it in other accounts?\r\n\n\n---\n\n<ins datetime=\"2022-08-23T18:24:02Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109161\">Tracked in ticket #109161</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Ref Arch Customers: Where is the “sample app” containers that EKS uses to spin up? (In ECR?) Wouldn’t those be in our repo/“shared” account? Or is there an example using a container image from ECR in the “shared” account and spinning up EKS w/ it in other accounts?</p>\n<hr>\n<ins datetime=\"2022-08-23T18:24:02Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109161\" rel=\"nofollow\">Tracked in ticket #109161</a></p>\n</ins>","answer":{"body":"The [AWS Sample App](https://github.com/gruntwork-io/aws-sample-app/) image is pulled directly out of [dockerhub](https://hub.docker.com/r/gruntwork/aws-sample-app). You can see that by checking out the `_envcommon/services/k8s-sample-app-frontend.hcl` file (your file name will be different if you're using ECS):\r\n\r\n```\r\n...\r\ncontainer_image = {\r\n    repository  = \"gruntwork/aws-sample-app\"\r\n    pull_policy = \"IfNotPresent\"\r\n}\r\n...\r\n```\r\n\r\nThe tag is set per environment in `stage/us-east-1/stage/services/sample-app-frontend/terragrunt.hcl`:\r\n\r\n```\r\n...\r\ninputs = {\r\n  # Configure the specific image tag to use when deploying this app. The other configurations are inherited from the\r\n  # parent envcommon configuration.\r\n  container_image = {\r\n    tag = \"v0.0.2\"\r\n...\r\n\r\n```\r\n\r\nNote that even though the latest tagged image in dockerhub is `v0.0.5`, there's a bug there that has blocked us from incrementing the tag. We're tracking that [here](https://github.com/gruntwork-io/aws-sample-app/issues/29).\r\n\r\nRegarding deploying a container image from ECR in the shared account, see `docs/04-deploy-apps.md` in your Reference Architecture.","bodyHTML":"<p dir=\"auto\">The <a href=\"https://github.com/gruntwork-io/aws-sample-app/\">AWS Sample App</a> image is pulled directly out of <a href=\"https://hub.docker.com/r/gruntwork/aws-sample-app\" rel=\"nofollow\">dockerhub</a>. You can see that by checking out the <code class=\"notranslate\">_envcommon/services/k8s-sample-app-frontend.hcl</code> file (your file name will be different if you're using ECS):</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"...\ncontainer_image = {\n    repository  = &quot;gruntwork/aws-sample-app&quot;\n    pull_policy = &quot;IfNotPresent&quot;\n}\n...\"><pre class=\"notranslate\"><code class=\"notranslate\">...\ncontainer_image = {\n    repository  = \"gruntwork/aws-sample-app\"\n    pull_policy = \"IfNotPresent\"\n}\n...\n</code></pre></div>\n<p dir=\"auto\">The tag is set per environment in <code class=\"notranslate\">stage/us-east-1/stage/services/sample-app-frontend/terragrunt.hcl</code>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"...\ninputs = {\n  # Configure the specific image tag to use when deploying this app. The other configurations are inherited from the\n  # parent envcommon configuration.\n  container_image = {\n    tag = &quot;v0.0.2&quot;\n...\n\"><pre class=\"notranslate\"><code class=\"notranslate\">...\ninputs = {\n  # Configure the specific image tag to use when deploying this app. The other configurations are inherited from the\n  # parent envcommon configuration.\n  container_image = {\n    tag = \"v0.0.2\"\n...\n\n</code></pre></div>\n<p dir=\"auto\">Note that even though the latest tagged image in dockerhub is <code class=\"notranslate\">v0.0.5</code>, there's a bug there that has blocked us from incrementing the tag. We're tracking that <a href=\"https://github.com/gruntwork-io/aws-sample-app/issues/29\">here</a>.</p>\n<p dir=\"auto\">Regarding deploying a container image from ECR in the shared account, see <code class=\"notranslate\">docs/04-deploy-apps.md</code> in your Reference Architecture.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "454f364bbc3e769311e8f04bd87e53e4"
}
##DOCS-SOURCER-END -->
