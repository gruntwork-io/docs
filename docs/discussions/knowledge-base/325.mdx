---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/325" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Handling of pkr.hcl files, what is the best, most supported approach?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84APJ04","number":325,"author":{"login":"zackproser"},"title":"Handling of pkr.hcl files, what is the best, most supported approach?","body":"A customer asked: \r\n> What is the best approach for handling of Packer pkr.hcl files? \r\n","bodyHTML":"<p dir=\"auto\">A customer asked:</p>\n<blockquote>\n<p dir=\"auto\">What is the best approach for handling of Packer pkr.hcl files?</p>\n</blockquote>","answer":{"body":"We use pkr.hcl files for our Packer templates, and recommend using the pkr.hcl format when possible. \r\n\r\nWe have [build-helpers](https://github.com/gruntwork-io/terraform-aws-ci/tree/master/modules/build-helpers) that are compatible with pkr.hcl files, that we use when deploying the Ref Arch, as part of a CI/CD pipeline, etc. \r\n\r\nWe include [examples](https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/9d84ae9b7d6e23537c73511dc38bbd5906ad95d3/examples/for-learning-and-testing/services/asg-service/README.md#build-the-ami-using-packer) of how you can build AMIs with pkr.hcl files in our service catalog.\r\n\r\n[Example 2 - Tailscale subnet router](https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/bf4330b49ebd9b8de18b6a622238ea248c805830/examples/for-learning-and-testing/mgmt/tailscale-subnet-router/README.md)\r\n[Example 3 - our build_ecs_cluster_instance.sh script](https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/188d19e4c378da9adb2a05cdcf6e02ecf0fec034/examples/for-production/infrastructure-live/shared/us-west-2/_regional/amis/build_ecs_cluster_instance.sh)\r\n[Example 4 - our build_eks_cluster_instance.sh script](https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/188d19e4c378da9adb2a05cdcf6e02ecf0fec034/examples/for-production/infrastructure-live/shared/us-west-2/_regional/amis/build_eks_cluster_instance.sh)\r\n \r\nIn general, we attempt to use the pkr.hcl format when possible. \r\n\r\nSee also: [How to build machine images using Packer templates from the Service Catalog](https://github.com/gruntwork-io/docs/blob/bbb73871cab1614f4544049ffab83a81e915566e/_docs-sources/reference/services/intro/deploy-new-infrastructure.md#how-to-build-machine-images-using-packer-templates-from-the-service-catalog)","bodyHTML":"<p dir=\"auto\">We use pkr.hcl files for our Packer templates, and recommend using the pkr.hcl format when possible.</p>\n<p dir=\"auto\">We have <a href=\"https://github.com/gruntwork-io/terraform-aws-ci/tree/master/modules/build-helpers\">build-helpers</a> that are compatible with pkr.hcl files, that we use when deploying the Ref Arch, as part of a CI/CD pipeline, etc.</p>\n<p dir=\"auto\">We include <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/9d84ae9b7d6e23537c73511dc38bbd5906ad95d3/examples/for-learning-and-testing/services/asg-service/README.md#build-the-ami-using-packer\">examples</a> of how you can build AMIs with pkr.hcl files in our service catalog.</p>\n<p dir=\"auto\"><a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/bf4330b49ebd9b8de18b6a622238ea248c805830/examples/for-learning-and-testing/mgmt/tailscale-subnet-router/README.md\">Example 2 - Tailscale subnet router</a><br>\n<a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/188d19e4c378da9adb2a05cdcf6e02ecf0fec034/examples/for-production/infrastructure-live/shared/us-west-2/_regional/amis/build_ecs_cluster_instance.sh\">Example 3 - our build_ecs_cluster_instance.sh script</a><br>\n<a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/blob/188d19e4c378da9adb2a05cdcf6e02ecf0fec034/examples/for-production/infrastructure-live/shared/us-west-2/_regional/amis/build_eks_cluster_instance.sh\">Example 4 - our build_eks_cluster_instance.sh script</a></p>\n<p dir=\"auto\">In general, we attempt to use the pkr.hcl format when possible.</p>\n<p dir=\"auto\">See also: <a href=\"https://github.com/gruntwork-io/docs/blob/bbb73871cab1614f4544049ffab83a81e915566e/_docs-sources/reference/services/intro/deploy-new-infrastructure.md#how-to-build-machine-images-using-packer-templates-from-the-service-catalog\">How to build machine images using Packer templates from the Service Catalog</a></p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "2a16ca3d82f7f9af4dff50583412e71c"
}
##DOCS-SOURCER-END -->
