---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/602" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>import statement metav1 &quot;k8s.io/apimachinery/pkg/apis/meta/v1&quot; is throwing  k8s.io/apimachinery/pkg/util/clock: module k8s.io/apimachinery@latest found (v0.25.4), but does not contain package k8s.io/apimachinery/pkg/util/clock error</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84ARmu0","number":602,"author":{"login":"pandu-bhojaraj-mf"},"title":"import statement metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" is throwing  k8s.io/apimachinery/pkg/util/clock: module k8s.io/apimachinery@latest found (v0.25.4), but does not contain package k8s.io/apimachinery/pkg/util/clock error","body":"\r\nHi All,\r\n\r\nI created terratest go language script for validating kubernetees pods and services\r\nI am using below functions in script for fetching services and pods\r\n\r\n1. func [ListPods](https://github.com/gruntwork-io/terratest/blob/v0.41.3/modules/k8s/pod.go#L19) - ListPods(t, options, metav1.ListOptions{})\r\n2. func [ListServices](https://github.com/gruntwork-io/terratest/blob/v0.41.3/modules/k8s/service.go#L23) - ListServices(t, options, metav1.ListOptions{})\r\n\r\nI am using below import statement for utlizing/invoking ListPods and ListServices functions\r\n\r\n`metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"`\r\n\r\nWhen i run below command  then _go.mod_ file is getting generated successfully without any error\r\n\r\n`go mod init <module-name>`\r\n\r\nBut when i run ANY of below command then i am getting error as **_k8s.io/apimachinery/pkg/util/clock: module k8s.io/apimachinery@latest found (v0.25.4), but does not contain package k8s.io/apimachinery/pkg/util/clock_**\r\n\r\n`go mod tidy`\r\nOr\r\n`go mod tidy -compat=1.17`\r\n\r\nBelow is my _go version_\r\n\r\n`go version go1.17.8 linux/amd64`\r\n\r\nLink and screenshot mentioned here\r\n\r\nhttps://github.com/gruntwork-io/terratest/blob/6fb86056797e3e62ebdd9011ba26605e0976a6f8/modules/k8s/pod_test.go#L20 is throwing error \r\n\r\nimport statement metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" is throwing  k8s.io/apimachinery/pkg/util/clock: module k8s.io/apimachinery@latest found (v0.25.4), but does not contain package k8s.io/apimachinery/pkg/util/clock error\r\n\r\n![image](https://user-images.githubusercontent.com/73541850/204798343-11e41edb-564b-4e77-a80c-bcdfbf95565f.png)\r\n\r\n**Please help me at earliset as it is blocked for my Hackfest project accomplishment** \r\n\r\nThis was working earlier around couple of months back but NOT working now :(\r\n\r\n---\r\n\r\n<ins datetime=\"2022-11-30T12:58:00Z\">\r\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109674\">Tracked in ticket #109674</a></p>\r\n</ins>\r\n","bodyHTML":"<p dir=\"auto\">Hi All,</p>\n<p dir=\"auto\">I created terratest go language script for validating kubernetees pods and services<br>\nI am using below functions in script for fetching services and pods</p>\n<ol dir=\"auto\">\n<li>func <a href=\"https://github.com/gruntwork-io/terratest/blob/v0.41.3/modules/k8s/pod.go#L19\">ListPods</a> - ListPods(t, options, metav1.ListOptions{})</li>\n<li>func <a href=\"https://github.com/gruntwork-io/terratest/blob/v0.41.3/modules/k8s/service.go#L23\">ListServices</a> - ListServices(t, options, metav1.ListOptions{})</li>\n</ol>\n<p dir=\"auto\">I am using below import statement for utlizing/invoking ListPods and ListServices functions</p>\n<p dir=\"auto\"><code class=\"notranslate\">metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"</code></p>\n<p dir=\"auto\">When i run below command  then <em>go.mod</em> file is getting generated successfully without any error</p>\n<p dir=\"auto\"><code class=\"notranslate\">go mod init &lt;module-name&gt;</code></p>\n<p dir=\"auto\">But when i run ANY of below command then i am getting error as <strong><em>k8s.io/apimachinery/pkg/util/clock: module k8s.io/apimachinery@latest found (v0.25.4), but does not contain package k8s.io/apimachinery/pkg/util/clock</em></strong></p>\n<p dir=\"auto\"><code class=\"notranslate\">go mod tidy</code><br>\nOr<br>\n<code class=\"notranslate\">go mod tidy -compat=1.17</code></p>\n<p dir=\"auto\">Below is my <em>go version</em></p>\n<p dir=\"auto\"><code class=\"notranslate\">go version go1.17.8 linux/amd64</code></p>\n<p dir=\"auto\">Link and screenshot mentioned here</p>\n<p dir=\"auto\"><a href=\"https://github.com/gruntwork-io/terratest/blob/6fb86056797e3e62ebdd9011ba26605e0976a6f8/modules/k8s/pod_test.go#L20\">https://github.com/gruntwork-io/terratest/blob/6fb86056797e3e62ebdd9011ba26605e0976a6f8/modules/k8s/pod_test.go#L20</a> is throwing error</p>\n<p dir=\"auto\">import statement metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\" is throwing  k8s.io/apimachinery/pkg/util/clock: module k8s.io/apimachinery@latest found (v0.25.4), but does not contain package k8s.io/apimachinery/pkg/util/clock error</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/73541850/204798343-11e41edb-564b-4e77-a80c-bcdfbf95565f.png\"><img src=\"https://user-images.githubusercontent.com/73541850/204798343-11e41edb-564b-4e77-a80c-bcdfbf95565f.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><strong>Please help me at earliset as it is blocked for my Hackfest project accomplishment</strong></p>\n<p dir=\"auto\">This was working earlier around couple of months back but NOT working now :(</p>\n<hr>\n<ins datetime=\"2022-11-30T12:58:00Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109674\" rel=\"nofollow\">Tracked in ticket #109674</a></p>\n</ins>","answer":{"body":"hi,\r\nusually, I fix this by locking dependencies versions, apimachinery in this case(maybe k8s api and client-go too):\r\n\r\n* remove `go.sum`\r\n* in `go.mod` set the same versions as in terratest https://github.com/gruntwork-io/terratest/blob/master/go.mod#L47\r\n* `go mod tidy -compat=1.17`\r\n* may appear different errors in the code which will require fixing because of version downgrade\r\n","bodyHTML":"<p dir=\"auto\">hi,<br>\nusually, I fix this by locking dependencies versions, apimachinery in this case(maybe k8s api and client-go too):</p>\n<ul dir=\"auto\">\n<li>remove <code class=\"notranslate\">go.sum</code></li>\n<li>in <code class=\"notranslate\">go.mod</code> set the same versions as in terratest <a href=\"https://github.com/gruntwork-io/terratest/blob/master/go.mod#L47\">https://github.com/gruntwork-io/terratest/blob/master/go.mod#L47</a></li>\n<li><code class=\"notranslate\">go mod tidy -compat=1.17</code></li>\n<li>may appear different errors in the code which will require fixing because of version downgrade</li>\n</ul>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "de37d800c21dbf8d45d34e9b6cbf92d5"
}
##DOCS-SOURCER-END -->
