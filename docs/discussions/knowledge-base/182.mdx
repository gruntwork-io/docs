---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/182" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How do I deploy the same module in multiple regions?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AOv_-","number":182,"author":{"login":"rhoboat"},"title":"How do I deploy the same module in multiple regions?","body":"I'm looking to deploy the same module in every region (or at least a lot of them). Is there some example of this somewhere or a recommend approach? I've searched both the internet and these forums, sorry if I missed it. I'd really prefer to avoid something like https://github.com/gruntwork-io/terraform-aws-security/blob/master/modules/aws-config-multi-region/main.tf if there is a better way. \r\n\r\nI see https://github.com/gruntwork-io/terraform-aws-security/blob/master/modules/aws-config-multi-region/variables.autogen.tf, is this just scripted somewhere else and is it something we can use?","bodyHTML":"<p dir=\"auto\">I'm looking to deploy the same module in every region (or at least a lot of them). Is there some example of this somewhere or a recommend approach? I've searched both the internet and these forums, sorry if I missed it. I'd really prefer to avoid something like <a href=\"https://github.com/gruntwork-io/terraform-aws-security/blob/master/modules/aws-config-multi-region/main.tf\">https://github.com/gruntwork-io/terraform-aws-security/blob/master/modules/aws-config-multi-region/main.tf</a> if there is a better way.</p>\n<p dir=\"auto\">I see <a href=\"https://github.com/gruntwork-io/terraform-aws-security/blob/master/modules/aws-config-multi-region/variables.autogen.tf\">https://github.com/gruntwork-io/terraform-aws-security/blob/master/modules/aws-config-multi-region/variables.autogen.tf</a>, is this just scripted somewhere else and is it something we can use?</p>","answer":{"body":"Fair point! One way you could do this is how we do it in `terraform-aws-security`. You found that autogen file, but it's created by a code generator in the [`codegen` directory](https://github.com/gruntwork-io/terraform-aws-security/tree/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen). These contain code to automate the multi-region configuration.\r\n\r\nI think there's a fairly thorough explanation describing how you'd go about [adding a new module](https://github.com/gruntwork-io/terraform-aws-security/blob/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen/core-concepts.md#adding-a-new-module), but from that info you could extrapolate how you'd write your own multi-region module generator. Check these out:\r\n* [Codegen Core Concepts](https://github.com/gruntwork-io/terraform-aws-security/blob/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen/core-concepts.md)\r\n* [Root Codegen README](https://github.com/gruntwork-io/terraform-aws-security/tree/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen)","bodyHTML":"<p dir=\"auto\">Fair point! One way you could do this is how we do it in <code class=\"notranslate\">terraform-aws-security</code>. You found that autogen file, but it's created by a code generator in the <a href=\"https://github.com/gruntwork-io/terraform-aws-security/tree/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen\"><code class=\"notranslate\">codegen</code> directory</a>. These contain code to automate the multi-region configuration.</p>\n<p dir=\"auto\">I think there's a fairly thorough explanation describing how you'd go about <a href=\"https://github.com/gruntwork-io/terraform-aws-security/blob/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen/core-concepts.md#adding-a-new-module\">adding a new module</a>, but from that info you could extrapolate how you'd write your own multi-region module generator. Check these out:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/gruntwork-io/terraform-aws-security/blob/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen/core-concepts.md\">Codegen Core Concepts</a></li>\n<li><a href=\"https://github.com/gruntwork-io/terraform-aws-security/tree/15239f3dd0225925e5ae482068b10f289a42ca3b/codegen\">Root Codegen README</a></li>\n</ul>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "9f9de5872613feab5c2f84e685de23ac"
}
##DOCS-SOURCER-END -->
