---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/530" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Integrating AWS SSO with the Gruntwork Reference Architecture</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQVfK","number":530,"author":{"login":"pete0emerson"},"title":"Integrating AWS SSO with the Gruntwork Reference Architecture","body":"\nCould give me some links or other advice for using AWS SSO with the gruntwork reference architecture?\r\n\r\nI understand the basic concept that IAM users are created in the security account, and are expected to assume roles in other accounts as needed. I’m not sure how we should configure permission sets in SSO to avoid duplicating the trust relationships between accounts.\n\n---\n\n<ins datetime=\"2022-08-05T16:13:10Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109106\">Tracked in ticket #109106</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Could give me some links or other advice for using AWS SSO with the gruntwork reference architecture?</p>\n<p dir=\"auto\">I understand the basic concept that IAM users are created in the security account, and are expected to assume roles in other accounts as needed. I’m not sure how we should configure permission sets in SSO to avoid duplicating the trust relationships between accounts.</p>\n<hr>\n<ins datetime=\"2022-08-05T16:13:10Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109106\" rel=\"nofollow\">Tracked in ticket #109106</a></p>\n</ins>","answer":{"body":"We currently don’t have an AWS SSO module and our team lacks expertise in the service to offer concrete steps to roll out SSO into the Reference Architecture. However, we have seen customers successfully integrate AWS SSO into the Reference Architecture in one of two ways:\r\n\r\n**Using AWS SSO as a full replacement for the security account**\r\n\r\nIn this model, you configure the permission sets in SSO to directly access each of the child accounts, bypassing the security account as a concept. Most customers taking this approach either remove the security account, or keep it as a backup in case something fails in SSO and users are locked out of AWS. The drawback of this approach is that it requires managing the permission sets explicitly in the root account, requiring access to the root account to tweak permissions for individual users in the accounts (e.g., dev and sandbox), which may not be desirable depending on the maturity of the organization.\r\n\r\n**Using AWS SSO to only access the security account, and then chaining role assume to access the various child accounts**\r\n\r\nThis gives you the advantage of delegating permission management without access to the root account (via the security account), and lets individual users manage permissions in the individual accounts that they own. However, the drawback is that it requires role chaining (SSO => security => child account), which has limitations on certain actions you can take on AWS, as well as limiting you to 1 hour sessions. Refer to [this knowledge base article #308](https://github.com/gruntwork-io/knowledge-base/discussions/308) for more info on this setup.\r\n","bodyHTML":"<p dir=\"auto\">We currently don’t have an AWS SSO module and our team lacks expertise in the service to offer concrete steps to roll out SSO into the Reference Architecture. However, we have seen customers successfully integrate AWS SSO into the Reference Architecture in one of two ways:</p>\n<p dir=\"auto\"><strong>Using AWS SSO as a full replacement for the security account</strong></p>\n<p dir=\"auto\">In this model, you configure the permission sets in SSO to directly access each of the child accounts, bypassing the security account as a concept. Most customers taking this approach either remove the security account, or keep it as a backup in case something fails in SSO and users are locked out of AWS. The drawback of this approach is that it requires managing the permission sets explicitly in the root account, requiring access to the root account to tweak permissions for individual users in the accounts (e.g., dev and sandbox), which may not be desirable depending on the maturity of the organization.</p>\n<p dir=\"auto\"><strong>Using AWS SSO to only access the security account, and then chaining role assume to access the various child accounts</strong></p>\n<p dir=\"auto\">This gives you the advantage of delegating permission management without access to the root account (via the security account), and lets individual users manage permissions in the individual accounts that they own. However, the drawback is that it requires role chaining (SSO =&gt; security =&gt; child account), which has limitations on certain actions you can take on AWS, as well as limiting you to 1 hour sessions. Refer to <a href=\"https://github.com/gruntwork-io/knowledge-base/discussions/308\" data-hovercard-type=\"discussion\" data-hovercard-url=\"/gruntwork-io/knowledge-base/discussions/308/hovercard\">this knowledge base article #308</a> for more info on this setup.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "69fd6f9db5a9bdfa070962cc3081c64b"
}
##DOCS-SOURCER-END -->
