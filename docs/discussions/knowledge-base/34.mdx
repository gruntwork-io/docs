---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/34" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Reference Architecture versioning</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84ANxOl","number":34,"author":{"login":"yorinasub17"},"title":"Reference Architecture versioning","body":"How is the Reference Architecture versioned, and how does one keep their deployed Reference Architecture up to date?","bodyHTML":"<p dir=\"auto\">How is the Reference Architecture versioned, and how does one keep their deployed Reference Architecture up to date?</p>","answer":{"body":"Reference Architecture version updates can be broken up into two major categories:\r\n\r\n- Module changes, specifically version updates to the underlying infrastructure modules and/or additional infrastructure components that are added to the Reference Architecture (e.g., if we start supporting a new component). Examples:\r\n    - Bumping the Service Catalog Version.\r\n    - Adding Elasticsearch as a configurable option.\r\n\r\n- Architecture changes, where the way the Reference Architecture is organized is updated. An example of this is when the Reference Architecture was updated from snapshoted `infrastructure-modules` repositories per deployment, to usage of the Service Catalog.\r\n\r\nFrom a semantic versioning perspective, currently the Reference Architecture is still pre-1.0 and has not reached full stability. As a part of this, Gruntwork has not solved the problem of Reference Architecture version updates. This means that for the large part updating a Reference Architecture across versions is primarily a manual process.\r\n\r\nFor the first category of changes, you can rely on [the releases page of the Service Catalog](https://github.com/gruntwork-io/terraform-aws-service-catalog/releases) to be notified of updates. For the large part, updating versions is a matter of bumping the referenced version in the `terragrunt.hcl` and committing the change to have the infrastructure CI/CD pipeline roll it out.\r\n\r\nNote that the Service Catalog follows semantic versioning, and for any `0.x` product, minor versions (the `x` in `0.x.y`) are considered backward incompatible. As such, you will want to read the release notes carefully whenever you cross minor versions. \r\n\r\nFor the second category of changes, the updates will depend on how different the architecture is. For minor changes, we will publish a new release and diff in the Service Catalog [for-production example](https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/examples/for-production/infrastructure-live). You can take a look at the changes pushed in this folder to see how the Reference Architecture evolves over minor changes.\r\n\r\nFor major changes that require significant refactoring (e.g., when the Reference Architecture was updated to use the Service Catalog), we typically publish a comprehensive guide that walks through how to make those changes to a deployed Reference Architecture. Here is an [example guide](https://gruntwork.io/guides/upgrades/how-to-update-your-ref-arch/) we published for that change.\r\n\r\nIn the future, we plan on rolling out a product that will take care of these updates for you automatically.\r\n\r\n**Update/Nov 15, 2022:** Software timelines are very hard to predict, but we plan to roll out the very first version of our upgrade tool specially for upgrading your RefArch to CIS v1.5 in Q1-2023. Shortly after, we'll begin work on a general-purpose version of the upgrade tool.","bodyHTML":"<p dir=\"auto\">Reference Architecture version updates can be broken up into two major categories:</p>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\">Module changes, specifically version updates to the underlying infrastructure modules and/or additional infrastructure components that are added to the Reference Architecture (e.g., if we start supporting a new component). Examples:</p>\n<ul dir=\"auto\">\n<li>Bumping the Service Catalog Version.</li>\n<li>Adding Elasticsearch as a configurable option.</li>\n</ul>\n</li>\n<li>\n<p dir=\"auto\">Architecture changes, where the way the Reference Architecture is organized is updated. An example of this is when the Reference Architecture was updated from snapshoted <code class=\"notranslate\">infrastructure-modules</code> repositories per deployment, to usage of the Service Catalog.</p>\n</li>\n</ul>\n<p dir=\"auto\">From a semantic versioning perspective, currently the Reference Architecture is still pre-1.0 and has not reached full stability. As a part of this, Gruntwork has not solved the problem of Reference Architecture version updates. This means that for the large part updating a Reference Architecture across versions is primarily a manual process.</p>\n<p dir=\"auto\">For the first category of changes, you can rely on <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/releases\">the releases page of the Service Catalog</a> to be notified of updates. For the large part, updating versions is a matter of bumping the referenced version in the <code class=\"notranslate\">terragrunt.hcl</code> and committing the change to have the infrastructure CI/CD pipeline roll it out.</p>\n<p dir=\"auto\">Note that the Service Catalog follows semantic versioning, and for any <code class=\"notranslate\">0.x</code> product, minor versions (the <code class=\"notranslate\">x</code> in <code class=\"notranslate\">0.x.y</code>) are considered backward incompatible. As such, you will want to read the release notes carefully whenever you cross minor versions.</p>\n<p dir=\"auto\">For the second category of changes, the updates will depend on how different the architecture is. For minor changes, we will publish a new release and diff in the Service Catalog <a href=\"https://github.com/gruntwork-io/terraform-aws-service-catalog/tree/master/examples/for-production/infrastructure-live\">for-production example</a>. You can take a look at the changes pushed in this folder to see how the Reference Architecture evolves over minor changes.</p>\n<p dir=\"auto\">For major changes that require significant refactoring (e.g., when the Reference Architecture was updated to use the Service Catalog), we typically publish a comprehensive guide that walks through how to make those changes to a deployed Reference Architecture. Here is an <a href=\"https://gruntwork.io/guides/upgrades/how-to-update-your-ref-arch/\" rel=\"nofollow\">example guide</a> we published for that change.</p>\n<p dir=\"auto\">In the future, we plan on rolling out a product that will take care of these updates for you automatically.</p>\n<p dir=\"auto\"><strong>Update/Nov 15, 2022:</strong> Software timelines are very hard to predict, but we plan to roll out the very first version of our upgrade tool specially for upgrading your RefArch to CIS v1.5 in Q1-2023. Shortly after, we'll begin work on a general-purpose version of the upgrade tool.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "6c57c87e5c487e1f018c7ddd32e1b3c5"
}
##DOCS-SOURCER-END -->
