---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/547" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>OpenVPN Request for Certificate timing out</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQlg1","number":547,"author":{"login":"zackproser"},"title":"OpenVPN Request for Certificate timing out","body":"\r\nA customer asked: \r\n> afternoon everyone....hoping someone has a few minutes to answer some questions about deploying openvpn in multi-account\r\nwe are currently building the openvpn server in the shared account (using packer variables file applied to the packer file in aws-service-catalog module)\r\ndeploying the openvpn server into the dev account...everything appears to stand up correctly\r\nwhen running openvpn-admin to request certificate for user....the request hits SQS...but the openvpn-admin eventually just times out\r\n\r\nr:terraform-aws-openvpn\r\n---\r\n\r\n<ins datetime=\"2022-08-30T17:05:36Z\">\r\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109184\">Tracked in ticket #109184</a></p>\r\n</ins>\r\n","bodyHTML":"<p dir=\"auto\">A customer asked:</p>\n<blockquote>\n<p dir=\"auto\">afternoon everyone....hoping someone has a few minutes to answer some questions about deploying openvpn in multi-account<br>\nwe are currently building the openvpn server in the shared account (using packer variables file applied to the packer file in aws-service-catalog module)<br>\ndeploying the openvpn server into the dev account...everything appears to stand up correctly<br>\nwhen running openvpn-admin to request certificate for user....the request hits SQS...but the openvpn-admin eventually just times out</p>\n</blockquote>\n<h2 dir=\"auto\">r:terraform-aws-openvpn</h2>\n<ins datetime=\"2022-08-30T17:05:36Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109184\" rel=\"nofollow\">Tracked in ticket #109184</a></p>\n</ins>","answer":{"body":"We’ve seen this happen a few times when you use a small instance (e.g., `t3.micro`) for the OpenVPN server, where it struggles to initialize the TLS certificates due to lack of compute + memory.\r\nTypically, you can detect this happening by looking at the the system logs for the EC2 instance (either by using the AWS web console or the CLI - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html#instance-console-console-output), where the last log entry is a really long string of `…..++--- .`\r\n\r\nIf this is indeed the cause, you can typically resolve this by relaunching the instance using a larger type (e.g., c4.large), and then rotating it to the smaller size once it successfully initializes.","bodyHTML":"<p dir=\"auto\">We’ve seen this happen a few times when you use a small instance (e.g., <code class=\"notranslate\">t3.micro</code>) for the OpenVPN server, where it struggles to initialize the TLS certificates due to lack of compute + memory.<br>\nTypically, you can detect this happening by looking at the the system logs for the EC2 instance (either by using the AWS web console or the CLI - <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html#instance-console-console-output\" rel=\"nofollow\">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-console.html#instance-console-console-output</a>), where the last log entry is a really long string of <code class=\"notranslate\">…..++--- .</code></p>\n<p dir=\"auto\">If this is indeed the cause, you can typically resolve this by relaunching the instance using a larger type (e.g., c4.large), and then rotating it to the smaller size once it successfully initializes.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "db9064020810247f1a7337340bceda35"
}
##DOCS-SOURCER-END -->
