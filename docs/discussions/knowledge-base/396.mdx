---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/396" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Adding non-admin user</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84APadI","number":396,"author":{"login":"moos3"},"title":"Adding non-admin user","body":"\nSo we are trying to add a developer to our reference arch using the following from the ref arch docs linked [here](https://docs.gruntwork.io/guides/reference-architecture/example-usage-guide/authenticate/setting-up-initial-access)\r\n\r\n```\r\nbill.bob:\r\n  create_access_keys: false\r\n  create_login_profile: true\r\n  groups:\r\n  - _account.dev-dev\r\n  - _account.logs-read-only\r\n  - _account.prod-dev\r\n  - _account.shared-dev\r\n  - _account.staging-dev\r\n  - ssh-grunt-users\r\n  - iam-user-self-mgmt\r\n  pgp_key: keybase:billybob1239012\r\n```\r\nThe group iam-user-self-mgmt doesn't seem to get created in the ref arch we just had setup. We are seeing \r\n\r\n```\r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ Error: NoSuchEntity: The group with name iam-user-self-mgmt cannot be found.\r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \tstatus code: 404, request id: 8ab29054-ca0f-4249-a187-a4d74cdbfc15\r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   with module.security_baseline.module.iam_users.aws_iam_user_group_membership.group_memberships[\"carlos.bautista\"],\r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   on .terraform/modules/security_baseline.iam_users/modules/iam-users/main.tf line 36, in resource \"aws_iam_user_group_membership\" \"group_memberships\":\r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   36: resource \"aws_iam_user_group_membership\" \"group_memberships\" {\r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \r\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] ╵\r\n```\r\n\r\n\r\n\n\n---\n\n<ins datetime=\"2022-04-28T13:45:31Z\">\n  <p><a href=\"https://gruntwork.zendesk.com/agent/tickets/108520\">Tracked in ticket #108520</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">So we are trying to add a developer to our reference arch using the following from the ref arch docs linked <a href=\"https://docs.gruntwork.io/guides/reference-architecture/example-usage-guide/authenticate/setting-up-initial-access\" rel=\"nofollow\">here</a></p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"bill.bob:\n  create_access_keys: false\n  create_login_profile: true\n  groups:\n  - _account.dev-dev\n  - _account.logs-read-only\n  - _account.prod-dev\n  - _account.shared-dev\n  - _account.staging-dev\n  - ssh-grunt-users\n  - iam-user-self-mgmt\n  pgp_key: keybase:billybob1239012\"><pre class=\"notranslate\"><code class=\"notranslate\">bill.bob:\n  create_access_keys: false\n  create_login_profile: true\n  groups:\n  - _account.dev-dev\n  - _account.logs-read-only\n  - _account.prod-dev\n  - _account.shared-dev\n  - _account.staging-dev\n  - ssh-grunt-users\n  - iam-user-self-mgmt\n  pgp_key: keybase:billybob1239012\n</code></pre></div>\n<p dir=\"auto\">The group iam-user-self-mgmt doesn't seem to get created in the ref arch we just had setup. We are seeing</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ Error: NoSuchEntity: The group with name iam-user-self-mgmt cannot be found.\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \tstatus code: 404, request id: 8ab29054-ca0f-4249-a187-a4d74cdbfc15\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   with module.security_baseline.module.iam_users.aws_iam_user_group_membership.group_memberships[&quot;carlos.bautista&quot;],\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   on .terraform/modules/security_baseline.iam_users/modules/iam-users/main.tf line 36, in resource &quot;aws_iam_user_group_membership&quot; &quot;group_memberships&quot;:\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   36: resource &quot;aws_iam_user_group_membership&quot; &quot;group_memberships&quot; {\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \n[ecs-deploy-runner][2022-04-28T13:26:35+0000] ╵\"><pre class=\"notranslate\"><code class=\"notranslate\">[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ Error: NoSuchEntity: The group with name iam-user-self-mgmt cannot be found.\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \tstatus code: 404, request id: 8ab29054-ca0f-4249-a187-a4d74cdbfc15\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   with module.security_baseline.module.iam_users.aws_iam_user_group_membership.group_memberships[\"carlos.bautista\"],\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   on .terraform/modules/security_baseline.iam_users/modules/iam-users/main.tf line 36, in resource \"aws_iam_user_group_membership\" \"group_memberships\":\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │   36: resource \"aws_iam_user_group_membership\" \"group_memberships\" {\n[ecs-deploy-runner][2022-04-28T13:26:35+0000] │ \n[ecs-deploy-runner][2022-04-28T13:26:35+0000] ╵\n</code></pre></div>\n<hr>\n<ins datetime=\"2022-04-28T13:45:31Z\">\n  <p dir=\"auto\"><a href=\"https://gruntwork.zendesk.com/agent/tickets/108520\" rel=\"nofollow\">Tracked in ticket #108520</a></p>\n</ins>","answer":{"body":"In the CIS ref arch, we don't create this IAM group by default. You can enable it by setting the `should_create_iam_group_user_self_mgmt = true` in the `terragrunt.hcl` file of the `account-baseline` call in the `security` account.","bodyHTML":"<p dir=\"auto\">In the CIS ref arch, we don't create this IAM group by default. You can enable it by setting the <code class=\"notranslate\">should_create_iam_group_user_self_mgmt = true</code> in the <code class=\"notranslate\">terragrunt.hcl</code> file of the <code class=\"notranslate\">account-baseline</code> call in the <code class=\"notranslate\">security</code> account.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "58d7943fc28359714abfb6152e8c171c"
}
##DOCS-SOURCER-END -->
