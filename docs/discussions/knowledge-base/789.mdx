---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/789" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Gruntwork Pipelines using wrong terraform version</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AWmhZ","number":789,"author":{"login":"jeffreymlewis"},"title":"Gruntwork Pipelines using wrong terraform version","body":"\r\nI've finally got Gruntwork Pipelines running. However, it's using the wrong version of terraform (see below). What is the correct way to use a specific terraform version in Pipelines? I tried using the `.gruntwork/config.yml` file in infra-live, resulting in the output below.\r\n\r\n(.gruntwork/config.yml)\r\n```\r\npipelines:\r\n  cli-version: v0.2.4\r\n  terraform-version: 1.5.5\r\n  terragrunt-version: 0.50.14\r\n```\r\n\r\n```\r\nInstalling Terraform v1.5.5\r\nDownloading release tarball from https://releases.hashicorp.com/terraform/1.5.5/terraform_1.5.5_linux_amd64.zip\r\n#=#=#                                                                         \r\n\r\n                                                                           0.0%\r\n                                                                           0.1%\r\n#                                                                          2.5%\r\n###                                                                        5.1%\r\n###################                                                       27.7%\r\n###########################                                               37.7%\r\n###################################                                       49.9%\r\n######################################                                    53.9%\r\n#############################################                             63.6%\r\n#####################################################                     74.1%\r\n#############################################################             85.1%\r\n######################################################################## 100.0%\r\nDownloading SHA hash file from https://releases.hashicorp.com/terraform/1.5.5/terraform_1.5.5_SHA256SUMS\r\nNot instructed to use Local PGP (/home/runner/.tfenv/use-{gpgv,gnupg}) & No keybase install found, skipping OpenPGP signature verification\r\nArchive:  /tmp/tfenv_download.u8wWoG/terraform_1.5.5_linux_amd64.zip\r\n  inflating: /home/runner/.tfenv/versions/1.5.5/terraform  \r\nInstallation of terraform v1.5.5 successful. To make this your default version, run 'tfenv use 1.5.5'\r\nSwitching default version to v1.5.5\r\nDefault version (when not overridden by .terraform-version or TFENV_TERRAFORM_VERSION) is now: 1.5.5\r\n2023/12/05 01:21:36 Creating directory for terragrunt: /home/runner/.terragrunt.versions/\r\nDownloading https://github.com/gruntwork-io/terragrunt/releases/download/v0.50.14/terragrunt_linux_amd64 to terragrunt_linux_amd64\r\nDownloading ...\r\n47453543 bytes downloaded.\r\nSwitched terragrunt to version \"0.50.14\" \r\nRun dsaltares/fetch-gh-release-asset@1.1.1\r\nRun sudo mv /tmp/pipelines /usr/local/bin/pipelines\r\nRun echo \"MACHINE_USER_NAME=$(gh api /user | jq .login)\" >> \"$GITHUB_OUTPUT\"\r\nRun # CD Infra-live directory && Run Pipelines-execute\r\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"This program sends telemetry to Gruntwork. To disable, set PIPELINES_TELEMETRY_OPT_OUT=true as an environment variable\" binary=pipelines version=v0.2.4\r\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Configuring git to use HTTPS with the provided machine user token and name\" binary=pipelines version=v0.2.4\r\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Starting Pipelines executor...\" binary=pipelines version=v0.2.4\r\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Checking out branch: 5e2dec8897f7450c1877c997072fe797f0e6c4fe\" binary=pipelines version=v0.2.4\r\nHEAD is now at 5e2dec8 Add `.terraform-version` file\r\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Current working directory: /home/runner/work/infrastructure-pipelines/infrastructure-pipelines/infrastructure-live\" binary=pipelines version=v0.2.4\r\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Changed into directory: dev/us-east-2/dev/data-stores/s3/hrg-dev-backup-archives\" binary=pipelines version=v0.2.4\r\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Executing Terragrunt with args: plan\" binary=pipelines version=v0.2.4\r\n\r\nInitializing the backend...\r\n\r\nSuccessfully configured the backend \"s3\"! Terraform will automatically\r\nuse this backend unless the backend configuration changes.\r\nInitializing modules...\r\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_logs...\r\n- s3_bucket_logs in .terraform/modules/s3_bucket_logs/modules/private-s3-bucket\r\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_primary...\r\n- s3_bucket_primary in .terraform/modules/s3_bucket_primary/modules/private-s3-bucket\r\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_replica...\r\n- s3_bucket_replica in .terraform/modules/s3_bucket_replica/modules/private-s3-bucket\r\n╷\r\n│ Error: Unsupported Terraform Core version\r\n│ \r\n│   on provider_version_override.tf line 3, in terraform:\r\n│    3:   required_version = \"<= 1.5.5\"\r\n│ \r\n│ This configuration does not support Terraform version 1.6.4. To proceed,\r\n│ either choose another supported Terraform version or update this version\r\n│ constraint. Version constraints are normally set for good reason, so\r\n│ updating the constraint may lead to other errors or unexpected behavior.\r\n╵\r\n```\r\n\r\n---\r\n\r\n<ins datetime=\"2023-12-05T01:37:24Z\">\r\n  <p><a href=\"https://support.gruntwork.io/hc/requests/110616\">Tracked in ticket #110616</a></p>\r\n</ins>\r\n","bodyHTML":"<p dir=\"auto\">I've finally got Gruntwork Pipelines running. However, it's using the wrong version of terraform (see below). What is the correct way to use a specific terraform version in Pipelines? I tried using the <code class=\"notranslate\">.gruntwork/config.yml</code> file in infra-live, resulting in the output below.</p>\n<p dir=\"auto\">(.gruntwork/config.yml)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"pipelines:\n  cli-version: v0.2.4\n  terraform-version: 1.5.5\n  terragrunt-version: 0.50.14\"><pre class=\"notranslate\"><code class=\"notranslate\">pipelines:\n  cli-version: v0.2.4\n  terraform-version: 1.5.5\n  terragrunt-version: 0.50.14\n</code></pre></div>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Installing Terraform v1.5.5\nDownloading release tarball from https://releases.hashicorp.com/terraform/1.5.5/terraform_1.5.5_linux_amd64.zip\n#=#=#                                                                         \n\n                                                                           0.0%\n                                                                           0.1%\n#                                                                          2.5%\n###                                                                        5.1%\n###################                                                       27.7%\n###########################                                               37.7%\n###################################                                       49.9%\n######################################                                    53.9%\n#############################################                             63.6%\n#####################################################                     74.1%\n#############################################################             85.1%\n######################################################################## 100.0%\nDownloading SHA hash file from https://releases.hashicorp.com/terraform/1.5.5/terraform_1.5.5_SHA256SUMS\nNot instructed to use Local PGP (/home/runner/.tfenv/use-{gpgv,gnupg}) &amp; No keybase install found, skipping OpenPGP signature verification\nArchive:  /tmp/tfenv_download.u8wWoG/terraform_1.5.5_linux_amd64.zip\n  inflating: /home/runner/.tfenv/versions/1.5.5/terraform  \nInstallation of terraform v1.5.5 successful. To make this your default version, run 'tfenv use 1.5.5'\nSwitching default version to v1.5.5\nDefault version (when not overridden by .terraform-version or TFENV_TERRAFORM_VERSION) is now: 1.5.5\n2023/12/05 01:21:36 Creating directory for terragrunt: /home/runner/.terragrunt.versions/\nDownloading https://github.com/gruntwork-io/terragrunt/releases/download/v0.50.14/terragrunt_linux_amd64 to terragrunt_linux_amd64\nDownloading ...\n47453543 bytes downloaded.\nSwitched terragrunt to version &quot;0.50.14&quot; \nRun dsaltares/fetch-gh-release-asset@1.1.1\nRun sudo mv /tmp/pipelines /usr/local/bin/pipelines\nRun echo &quot;MACHINE_USER_NAME=$(gh api /user | jq .login)&quot; &gt;&gt; &quot;$GITHUB_OUTPUT&quot;\nRun # CD Infra-live directory &amp;&amp; Run Pipelines-execute\ntime=&quot;2023-12-05T01:21:39Z&quot; level=info msg=&quot;This program sends telemetry to Gruntwork. To disable, set PIPELINES_TELEMETRY_OPT_OUT=true as an environment variable&quot; binary=pipelines version=v0.2.4\ntime=&quot;2023-12-05T01:21:39Z&quot; level=info msg=&quot;Configuring git to use HTTPS with the provided machine user token and name&quot; binary=pipelines version=v0.2.4\ntime=&quot;2023-12-05T01:21:39Z&quot; level=info msg=&quot;Starting Pipelines executor...&quot; binary=pipelines version=v0.2.4\ntime=&quot;2023-12-05T01:21:39Z&quot; level=info msg=&quot;Checking out branch: 5e2dec8897f7450c1877c997072fe797f0e6c4fe&quot; binary=pipelines version=v0.2.4\nHEAD is now at 5e2dec8 Add `.terraform-version` file\ntime=&quot;2023-12-05T01:21:39Z&quot; level=info msg=&quot;Current working directory: /home/runner/work/infrastructure-pipelines/infrastructure-pipelines/infrastructure-live&quot; binary=pipelines version=v0.2.4\ntime=&quot;2023-12-05T01:21:39Z&quot; level=info msg=&quot;Changed into directory: dev/us-east-2/dev/data-stores/s3/hrg-dev-backup-archives&quot; binary=pipelines version=v0.2.4\ntime=&quot;2023-12-05T01:21:39Z&quot; level=info msg=&quot;Executing Terragrunt with args: plan&quot; binary=pipelines version=v0.2.4\n\nInitializing the backend...\n\nSuccessfully configured the backend &quot;s3&quot;! Terraform will automatically\nuse this backend unless the backend configuration changes.\nInitializing modules...\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_logs...\n- s3_bucket_logs in .terraform/modules/s3_bucket_logs/modules/private-s3-bucket\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_primary...\n- s3_bucket_primary in .terraform/modules/s3_bucket_primary/modules/private-s3-bucket\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_replica...\n- s3_bucket_replica in .terraform/modules/s3_bucket_replica/modules/private-s3-bucket\n╷\n│ Error: Unsupported Terraform Core version\n│ \n│   on provider_version_override.tf line 3, in terraform:\n│    3:   required_version = &quot;&lt;= 1.5.5&quot;\n│ \n│ This configuration does not support Terraform version 1.6.4. To proceed,\n│ either choose another supported Terraform version or update this version\n│ constraint. Version constraints are normally set for good reason, so\n│ updating the constraint may lead to other errors or unexpected behavior.\n╵\"><pre class=\"notranslate\"><code class=\"notranslate\">Installing Terraform v1.5.5\nDownloading release tarball from https://releases.hashicorp.com/terraform/1.5.5/terraform_1.5.5_linux_amd64.zip\n#=#=#                                                                         \n\n                                                                           0.0%\n                                                                           0.1%\n#                                                                          2.5%\n###                                                                        5.1%\n###################                                                       27.7%\n###########################                                               37.7%\n###################################                                       49.9%\n######################################                                    53.9%\n#############################################                             63.6%\n#####################################################                     74.1%\n#############################################################             85.1%\n######################################################################## 100.0%\nDownloading SHA hash file from https://releases.hashicorp.com/terraform/1.5.5/terraform_1.5.5_SHA256SUMS\nNot instructed to use Local PGP (/home/runner/.tfenv/use-{gpgv,gnupg}) &amp; No keybase install found, skipping OpenPGP signature verification\nArchive:  /tmp/tfenv_download.u8wWoG/terraform_1.5.5_linux_amd64.zip\n  inflating: /home/runner/.tfenv/versions/1.5.5/terraform  \nInstallation of terraform v1.5.5 successful. To make this your default version, run 'tfenv use 1.5.5'\nSwitching default version to v1.5.5\nDefault version (when not overridden by .terraform-version or TFENV_TERRAFORM_VERSION) is now: 1.5.5\n2023/12/05 01:21:36 Creating directory for terragrunt: /home/runner/.terragrunt.versions/\nDownloading https://github.com/gruntwork-io/terragrunt/releases/download/v0.50.14/terragrunt_linux_amd64 to terragrunt_linux_amd64\nDownloading ...\n47453543 bytes downloaded.\nSwitched terragrunt to version \"0.50.14\" \nRun dsaltares/fetch-gh-release-asset@1.1.1\nRun sudo mv /tmp/pipelines /usr/local/bin/pipelines\nRun echo \"MACHINE_USER_NAME=$(gh api /user | jq .login)\" &gt;&gt; \"$GITHUB_OUTPUT\"\nRun # CD Infra-live directory &amp;&amp; Run Pipelines-execute\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"This program sends telemetry to Gruntwork. To disable, set PIPELINES_TELEMETRY_OPT_OUT=true as an environment variable\" binary=pipelines version=v0.2.4\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Configuring git to use HTTPS with the provided machine user token and name\" binary=pipelines version=v0.2.4\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Starting Pipelines executor...\" binary=pipelines version=v0.2.4\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Checking out branch: 5e2dec8897f7450c1877c997072fe797f0e6c4fe\" binary=pipelines version=v0.2.4\nHEAD is now at 5e2dec8 Add `.terraform-version` file\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Current working directory: /home/runner/work/infrastructure-pipelines/infrastructure-pipelines/infrastructure-live\" binary=pipelines version=v0.2.4\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Changed into directory: dev/us-east-2/dev/data-stores/s3/hrg-dev-backup-archives\" binary=pipelines version=v0.2.4\ntime=\"2023-12-05T01:21:39Z\" level=info msg=\"Executing Terragrunt with args: plan\" binary=pipelines version=v0.2.4\n\nInitializing the backend...\n\nSuccessfully configured the backend \"s3\"! Terraform will automatically\nuse this backend unless the backend configuration changes.\nInitializing modules...\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_logs...\n- s3_bucket_logs in .terraform/modules/s3_bucket_logs/modules/private-s3-bucket\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_primary...\n- s3_bucket_primary in .terraform/modules/s3_bucket_primary/modules/private-s3-bucket\nDownloading git::ssh://git@github.com/gruntwork-io/terraform-aws-security.git?ref=v0.69.0 for s3_bucket_replica...\n- s3_bucket_replica in .terraform/modules/s3_bucket_replica/modules/private-s3-bucket\n╷\n│ Error: Unsupported Terraform Core version\n│ \n│   on provider_version_override.tf line 3, in terraform:\n│    3:   required_version = \"&lt;= 1.5.5\"\n│ \n│ This configuration does not support Terraform version 1.6.4. To proceed,\n│ either choose another supported Terraform version or update this version\n│ constraint. Version constraints are normally set for good reason, so\n│ updating the constraint may lead to other errors or unexpected behavior.\n╵\n</code></pre></div>\n<hr>\n<ins datetime=\"2023-12-05T01:37:24Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/110616\" rel=\"nofollow\">Tracked in ticket #110616</a></p>\n</ins>","answer":{"body":"Hey @jeffreymlewis , thanks for your PR. We've taken a slightly different tactic in this PR:\r\nhttps://github.com/gruntwork-io/pipelines-execute/pull/9\r\n\r\nDo you mind confirming that as of the latest release the action is working in your environment?\r\n\r\nApologies for the delay in resolution.","bodyHTML":"<p dir=\"auto\">Hey <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jeffreymlewis/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jeffreymlewis\">@jeffreymlewis</a> , thanks for your PR. We've taken a slightly different tactic in this PR:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2049210113\" data-permission-text=\"Title is private\" data-url=\"https://github.com/gruntwork-io/pipelines-execute/issues/9\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/gruntwork-io/pipelines-execute/pull/9/hovercard\" href=\"https://github.com/gruntwork-io/pipelines-execute/pull/9\">gruntwork-io/pipelines-execute#9</a></p>\n<p dir=\"auto\">Do you mind confirming that as of the latest release the action is working in your environment?</p>\n<p dir=\"auto\">Apologies for the delay in resolution.</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "1adf4873d1c70c0138eacc8657505cd2"
}
##DOCS-SOURCER-END -->
