---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/637" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Changes to ecs-deploy runner module not working on plan</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84ASLX7","number":637,"author":{"login":"sewmiuraj"},"title":"Changes to ecs-deploy runner module not working on plan","body":"\nHello,\r\n\r\nI am facing two different issues in the ecs-deploy-runner module at: \"git::git@github.com:gruntwork-io/terraform-aws-service-catalog.git//modules/mgmt/ecs-deploy-runner\" using ref=v0.67.0.\r\n\r\nISSUE 01: \r\n1. Upgrading from v.0.67.0 tov 0.95.1\r\n\r\nOn the plan I am receiving the following error. Is there anything I need to be doing from my end to be able to switch to the version 0.95.1.\r\n\r\n![Screenshot 2023-01-17 at 3 58 32 PM](https://user-images.githubusercontent.com/96437456/212932498-fc275c32-3305-4aad-b8e7-ed24e5925c19.png)\r\n\r\n\r\nISSUE 02:\r\nI am trying to change the cloudwatch log group retention in days for ecs-deploy-runner. \r\n\r\n But, when I set \r\n\r\n```\r\ninputs = {\r\n\r\n  # Setting up cloudwatch log group retention (in days)\r\n  invoker_lambda_cloudwatch_log_group_retention_in_days = 2\r\n\r\n}\r\n```\r\n\r\nin `terragrunt.hcl `for ecs-deploy runner - the plan returns with **No changes. Your infrastructure matches the configuration**.. But I can confirm that the cloudwatch log group's retention in the aws console is set to 3, and should therefore not return as **No changes**.\r\nIf I make changes to other variables such as `container_max_memory` it would be reflected correctly on the plan.\n\n---\n\n<ins datetime=\"2023-01-17T14:58:55Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109799\">Tracked in ticket #109799</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">Hello,</p>\n<p dir=\"auto\">I am facing two different issues in the ecs-deploy-runner module at: \"git::<a href=\"mailto:git@github.com\">git@github.com</a>:gruntwork-io/terraform-aws-service-catalog.git//modules/mgmt/ecs-deploy-runner\" using ref=v0.67.0.</p>\n<p dir=\"auto\">ISSUE 01:</p>\n<ol dir=\"auto\">\n<li>Upgrading from v.0.67.0 tov 0.95.1</li>\n</ol>\n<p dir=\"auto\">On the plan I am receiving the following error. Is there anything I need to be doing from my end to be able to switch to the version 0.95.1.</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://user-images.githubusercontent.com/96437456/212932498-fc275c32-3305-4aad-b8e7-ed24e5925c19.png\"><img src=\"https://user-images.githubusercontent.com/96437456/212932498-fc275c32-3305-4aad-b8e7-ed24e5925c19.png\" alt=\"Screenshot 2023-01-17 at 3 58 32 PM\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">ISSUE 02:<br>\nI am trying to change the cloudwatch log group retention in days for ecs-deploy-runner.</p>\n<p dir=\"auto\">But, when I set</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"inputs = {\n\n  # Setting up cloudwatch log group retention (in days)\n  invoker_lambda_cloudwatch_log_group_retention_in_days = 2\n\n}\"><pre class=\"notranslate\"><code class=\"notranslate\">inputs = {\n\n  # Setting up cloudwatch log group retention (in days)\n  invoker_lambda_cloudwatch_log_group_retention_in_days = 2\n\n}\n</code></pre></div>\n<p dir=\"auto\">in <code class=\"notranslate\">terragrunt.hcl </code>for ecs-deploy runner - the plan returns with <strong>No changes. Your infrastructure matches the configuration</strong>.. But I can confirm that the cloudwatch log group's retention in the aws console is set to 3, and should therefore not return as <strong>No changes</strong>.<br>\nIf I make changes to other variables such as <code class=\"notranslate\">container_max_memory</code> it would be reflected correctly on the plan.</p>\n<hr>\n<ins datetime=\"2023-01-17T14:58:55Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109799\" rel=\"nofollow\">Tracked in ticket #109799</a></p>\n</ins>","answer":{"body":"@sewmiuraj for issue number 1, this is caused by a limitation of terraform.  It requires a provider to be provisioned for each AWS region. The fix is to update `multi_region_common.hcl` to have the latest list of regions.  Here is a snippet of what the current list of regions should look like:\r\n\r\n```\r\n all_aws_regions = [\r\n    \"af-south-1\",\r\n    \"ap-east-1\",\r\n    \"ap-northeast-1\",\r\n    \"ap-northeast-2\",\r\n    \"ap-northeast-3\",\r\n    \"ap-south-1\",\r\n    \"ap-south-2\",\r\n    \"ap-southeast-1\",\r\n    \"ap-southeast-2\",\r\n    \"ap-southeast-3\",\r\n    \"ca-central-1\",\r\n    \"cn-north-1\",\r\n    \"cn-northwest-1\",\r\n    \"eu-central-1\",\r\n    \"eu-central-2\",\r\n    \"eu-north-1\",\r\n    \"eu-south-1\",\r\n    \"eu-south-2\",\r\n    \"eu-west-1\",\r\n    \"eu-west-2\",\r\n    \"eu-west-3\",\r\n    \"me-south-1\",\r\n    \"me-central-1\",\r\n    \"sa-east-1\",\r\n    \"us-east-1\",\r\n    \"us-east-2\",\r\n    \"us-gov-east-1\",\r\n    \"us-gov-west-1\",\r\n    \"us-west-1\",\r\n    \"us-west-2\"\r\n  ]\r\n```\r\n\r\nYour second issue is slightly more involved, I'll do some investigation and get back to you.","bodyHTML":"<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/sewmiuraj/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/sewmiuraj\">@sewmiuraj</a> for issue number 1, this is caused by a limitation of terraform.  It requires a provider to be provisioned for each AWS region. The fix is to update <code class=\"notranslate\">multi_region_common.hcl</code> to have the latest list of regions.  Here is a snippet of what the current list of regions should look like:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\" all_aws_regions = [\n    &quot;af-south-1&quot;,\n    &quot;ap-east-1&quot;,\n    &quot;ap-northeast-1&quot;,\n    &quot;ap-northeast-2&quot;,\n    &quot;ap-northeast-3&quot;,\n    &quot;ap-south-1&quot;,\n    &quot;ap-south-2&quot;,\n    &quot;ap-southeast-1&quot;,\n    &quot;ap-southeast-2&quot;,\n    &quot;ap-southeast-3&quot;,\n    &quot;ca-central-1&quot;,\n    &quot;cn-north-1&quot;,\n    &quot;cn-northwest-1&quot;,\n    &quot;eu-central-1&quot;,\n    &quot;eu-central-2&quot;,\n    &quot;eu-north-1&quot;,\n    &quot;eu-south-1&quot;,\n    &quot;eu-south-2&quot;,\n    &quot;eu-west-1&quot;,\n    &quot;eu-west-2&quot;,\n    &quot;eu-west-3&quot;,\n    &quot;me-south-1&quot;,\n    &quot;me-central-1&quot;,\n    &quot;sa-east-1&quot;,\n    &quot;us-east-1&quot;,\n    &quot;us-east-2&quot;,\n    &quot;us-gov-east-1&quot;,\n    &quot;us-gov-west-1&quot;,\n    &quot;us-west-1&quot;,\n    &quot;us-west-2&quot;\n  ]\"><pre class=\"notranslate\"><code class=\"notranslate\"> all_aws_regions = [\n    \"af-south-1\",\n    \"ap-east-1\",\n    \"ap-northeast-1\",\n    \"ap-northeast-2\",\n    \"ap-northeast-3\",\n    \"ap-south-1\",\n    \"ap-south-2\",\n    \"ap-southeast-1\",\n    \"ap-southeast-2\",\n    \"ap-southeast-3\",\n    \"ca-central-1\",\n    \"cn-north-1\",\n    \"cn-northwest-1\",\n    \"eu-central-1\",\n    \"eu-central-2\",\n    \"eu-north-1\",\n    \"eu-south-1\",\n    \"eu-south-2\",\n    \"eu-west-1\",\n    \"eu-west-2\",\n    \"eu-west-3\",\n    \"me-south-1\",\n    \"me-central-1\",\n    \"sa-east-1\",\n    \"us-east-1\",\n    \"us-east-2\",\n    \"us-gov-east-1\",\n    \"us-gov-west-1\",\n    \"us-west-1\",\n    \"us-west-2\"\n  ]\n</code></pre></div>\n<p dir=\"auto\">Your second issue is slightly more involved, I'll do some investigation and get back to you.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "90555f056a2296730e20820e2199dedd"
}
##DOCS-SOURCER-END -->
