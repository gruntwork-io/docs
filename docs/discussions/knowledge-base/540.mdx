---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>multiple `generate` block as an attribute</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQf2h","number":540,"author":{"login":"kholisrag"},"title":"multiple `generate` block as an attribute","body":"\nhello is there a way to generate multiple `generate` block as an attribute\r\n\r\nI'm trying like below\r\n\r\n```hcl\r\nlocals {\r\n  vault_providers_vars  = read_terragrunt_config(find_in_parent_folders(\"vault_provider.hcl\"))\r\n  consul_providers_vars = read_terragrunt_config(find_in_parent_folders(\"consul_provider.hcl\"))\r\n}\r\n\r\ngenerate = local.vault_providers_vars.generate\r\ngenerate = local.consul_providers_vars.generate\r\n```\r\n\r\nbut got an error\r\n\r\n```bash\r\nERRO[0000] /redacted/consul-client-acl-policy-token/terragrunt.hcl:34,1-9: Attribute redefined; The argument \"generate\" was already set at /redacted/consul-client-acl-policy-token/terragrunt.hcl:33,1-9. Each argument may be set only once. \r\n```\r\n\r\nany Idea how to do it without combining original file `vault_provider.hcl` and `consul_provider.hcl` to like `vault_consul_provider.hcl`\r\n\r\nor is there any dynamic way to combine both file to one file and use it in `generate` as attribute?\n\n---\n\n<ins datetime=\"2022-08-22T16:56:44Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109158\">Tracked in ticket #109158</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">hello is there a way to generate multiple <code class=\"notranslate\">generate</code> block as an attribute</p>\n<p dir=\"auto\">I'm trying like below</p>\n<div class=\"highlight highlight-source-terraform notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"locals {\n  vault_providers_vars  = read_terragrunt_config(find_in_parent_folders(&quot;vault_provider.hcl&quot;))\n  consul_providers_vars = read_terragrunt_config(find_in_parent_folders(&quot;consul_provider.hcl&quot;))\n}\n\ngenerate = local.vault_providers_vars.generate\ngenerate = local.consul_providers_vars.generate\"><pre><span class=\"pl-k\">locals</span> {\n  vault_providers_vars  <span class=\"pl-k\">=</span> <span class=\"pl-v\">read_terragrunt_config</span>(<span class=\"pl-v\">find_in_parent_folders</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>vault_provider.hcl<span class=\"pl-pds\">\"</span></span>))\n  consul_providers_vars <span class=\"pl-k\">=</span> <span class=\"pl-v\">read_terragrunt_config</span>(<span class=\"pl-v\">find_in_parent_folders</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>consul_provider.hcl<span class=\"pl-pds\">\"</span></span>))\n}\n\n<span class=\"pl-v\"><span class=\"pl-smi\">generate</span> <span class=\"pl-k\">= </span></span><span class=\"pl-c1\">local</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">vault_providers_vars</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">generate</span>\n<span class=\"pl-v\"><span class=\"pl-smi\">generate</span> <span class=\"pl-k\">= </span></span><span class=\"pl-c1\">local</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">consul_providers_vars</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">generate</span></pre></div>\n<p dir=\"auto\">but got an error</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ERRO[0000] /redacted/consul-client-acl-policy-token/terragrunt.hcl:34,1-9: Attribute redefined; The argument &quot;generate&quot; was already set at /redacted/consul-client-acl-policy-token/terragrunt.hcl:33,1-9. Each argument may be set only once. \"><pre>ERRO[0000] /redacted/consul-client-acl-policy-token/terragrunt.hcl:34,1-9: Attribute redefined<span class=\"pl-k\">;</span> The argument <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>generate<span class=\"pl-pds\">\"</span></span> was already <span class=\"pl-c1\">set</span> at /redacted/consul-client-acl-policy-token/terragrunt.hcl:33,1-9. Each argument may be <span class=\"pl-c1\">set</span> only once. </pre></div>\n<p dir=\"auto\">any Idea how to do it without combining original file <code class=\"notranslate\">vault_provider.hcl</code> and <code class=\"notranslate\">consul_provider.hcl</code> to like <code class=\"notranslate\">vault_consul_provider.hcl</code></p>\n<p dir=\"auto\">or is there any dynamic way to combine both file to one file and use it in <code class=\"notranslate\">generate</code> as attribute?</p>\n<hr>\n<ins datetime=\"2022-08-22T16:56:44Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109158\" rel=\"nofollow\">Tracked in ticket #109158</a></p>\n</ins>","answer":{"body":"seem like working with\r\n\r\n```hcl\r\ngenerate = merge(local.vault_providers_vars.generate, local.consul_providers_vars.generate)\r\n```\r\n\r\nthanks you anyway!","bodyHTML":"<p dir=\"auto\">seem like working with</p>\n<div class=\"highlight highlight-source-terraform notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"generate = merge(local.vault_providers_vars.generate, local.consul_providers_vars.generate)\"><pre><span class=\"pl-v\"><span class=\"pl-smi\">generate</span> <span class=\"pl-k\">= </span></span><span class=\"pl-c1\">merge</span>(<span class=\"pl-c1\">local</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">vault_providers_vars</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">generate</span>, <span class=\"pl-c1\">local</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">consul_providers_vars</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">generate</span>)</pre></div>\n<p dir=\"auto\">thanks you anyway!</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "724f7b12cfb509e4ac09ad2ff7bca6c4"
}
##DOCS-SOURCER-END -->
