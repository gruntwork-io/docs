---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/554" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>k8s-service: How to launch the load balancer in private subnet?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AQs_P","number":554,"author":{"login":"yorinasub17"},"title":"k8s-service: How to launch the load balancer in private subnet?","body":"\nI want make sure the ALB launched with the Kubernetes service backed by `k8s-service` will launch in private subnets. How do I do that?\n\n---\n\n<ins datetime=\"2022-09-09T15:01:23Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/109229\">Tracked in ticket #109229</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">I want make sure the ALB launched with the Kubernetes service backed by <code class=\"notranslate\">k8s-service</code> will launch in private subnets. How do I do that?</p>\n<hr>\n<ins datetime=\"2022-09-09T15:01:23Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/109229\" rel=\"nofollow\">Tracked in ticket #109229</a></p>\n</ins>","answer":{"body":"The load balancer is controlled by the [AWS Load Balancer Controller](https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.4/), and you can control the configuration of the LB that is launched through the many annotations that it understands. Here is a link to the full annotation: https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.4/guide/ingress/annotations/\r\n\r\nYou can add any annotation that we don’t support within the `k8s-service` module using the [ingress_annotations](https://docs.gruntwork.io/reference/services/app-orchestration/kubernetes-service#ingress_annotations) input variable.\r\n\r\nWith that said, for your particular question, setting the [expose_type](https://docs.gruntwork.io/reference/services/app-orchestration/kubernetes-service#expose_type) to `internal` should set the annotations for configuring an internal ALB that is only exposed to the VPC, which should accomplish your needs.","bodyHTML":"<p dir=\"auto\">The load balancer is controlled by the <a href=\"https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.4/\" rel=\"nofollow\">AWS Load Balancer Controller</a>, and you can control the configuration of the LB that is launched through the many annotations that it understands. Here is a link to the full annotation: <a href=\"https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.4/guide/ingress/annotations/\" rel=\"nofollow\">https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.4/guide/ingress/annotations/</a></p>\n<p dir=\"auto\">You can add any annotation that we don’t support within the <code class=\"notranslate\">k8s-service</code> module using the <a href=\"https://docs.gruntwork.io/reference/services/app-orchestration/kubernetes-service#ingress_annotations\" rel=\"nofollow\">ingress_annotations</a> input variable.</p>\n<p dir=\"auto\">With that said, for your particular question, setting the <a href=\"https://docs.gruntwork.io/reference/services/app-orchestration/kubernetes-service#expose_type\" rel=\"nofollow\">expose_type</a> to <code class=\"notranslate\">internal</code> should set the annotations for configuring an internal ALB that is only exposed to the VPC, which should accomplish your needs.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "7c46d318d6347df4b00ac37bf30b34b8"
}
##DOCS-SOURCER-END -->
