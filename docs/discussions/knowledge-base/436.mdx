---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/436" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>How to configure s3 replication?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84APpON","number":436,"author":{"login":"aleclerc-sonrai"},"title":"How to configure s3 replication?","body":"\nI'm trying to figure out how to configure with a cross-region cross-account bucket using the private-s3-bucket module.\r\n\r\nDo you have an example of how to do this? \r\n\r\nThis change looks like it makes it easier (https://github.com/gruntwork-io/terraform-aws-security/pull/604) , but I'm still confused on how I'm supposed to setup the role and replication settings on the source bucket.\n\n---\n\n<ins datetime=\"2022-05-26T14:44:41Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/108666\">Tracked in ticket #108666</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">I'm trying to figure out how to configure with a cross-region cross-account bucket using the private-s3-bucket module.</p>\n<p dir=\"auto\">Do you have an example of how to do this?</p>\n<p dir=\"auto\">This change looks like it makes it easier (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1124666280\" data-permission-text=\"Title is private\" data-url=\"https://github.com/gruntwork-io/terraform-aws-security/issues/604\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/gruntwork-io/terraform-aws-security/pull/604/hovercard\" href=\"https://github.com/gruntwork-io/terraform-aws-security/pull/604\">gruntwork-io/terraform-aws-security#604</a>) , but I'm still confused on how I'm supposed to setup the role and replication settings on the source bucket.</p>\n<hr>\n<ins datetime=\"2022-05-26T14:44:41Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/108666\" rel=\"nofollow\">Tracked in ticket #108666</a></p>\n</ins>","answer":{"body":"Check out [this example](https://github.com/gruntwork-io/terraform-aws-security/tree/master/examples/private-s3-bucket-with-replication) which sets up a replicating bucket in a single region. You can expand this example to use multiple regions by creating a secondary `aws` provider block configured to the alternate region and updating the `replication_s3_bucket` module block to use that provider instead.\r\n\r\nRefer to [the terraform documentation](https://www.terraform.io/language/providers/configuration#selecting-alternate-provider-configurations) for more info on how to setup and use alternate providers.","bodyHTML":"<p dir=\"auto\">Check out <a href=\"https://github.com/gruntwork-io/terraform-aws-security/tree/master/examples/private-s3-bucket-with-replication\">this example</a> which sets up a replicating bucket in a single region. You can expand this example to use multiple regions by creating a secondary <code class=\"notranslate\">aws</code> provider block configured to the alternate region and updating the <code class=\"notranslate\">replication_s3_bucket</code> module block to use that provider instead.</p>\n<p dir=\"auto\">Refer to <a href=\"https://www.terraform.io/language/providers/configuration#selecting-alternate-provider-configurations\" rel=\"nofollow\">the terraform documentation</a> for more info on how to setup and use alternate providers.</p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "9d0044b7b91e9dca410311bfcccd5977"
}
##DOCS-SOURCER-END -->
