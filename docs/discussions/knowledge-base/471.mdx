---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>What are the advantages/disadvantages of calling Terraform directly in GitHub Actions?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AP02Z","number":471,"author":{"login":"yorinasub17"},"title":"What are the advantages/disadvantages of calling Terraform directly in GitHub Actions?","body":"\nWhen does it make sense to use something like Atlantis or Gruntwork Pipelines? Are there any compelling reason for us to also use something like Gruntworks pipeline or Atlantis apart from not having to store some secrets in Github (i guess we could mitigate this by using aws secrets manager as well)?\n\n---\n\n<ins datetime=\"2022-06-16T01:52:00Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/108787\">Tracked in ticket #108787</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">When does it make sense to use something like Atlantis or Gruntwork Pipelines? Are there any compelling reason for us to also use something like Gruntworks pipeline or Atlantis apart from not having to store some secrets in Github (i guess we could mitigate this by using aws secrets manager as well)?</p>\n<hr>\n<ins datetime=\"2022-06-16T01:52:00Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/108787\" rel=\"nofollow\">Tracked in ticket #108787</a></p>\n</ins>","answer":{"body":"One of the main benefits of using Gruntwork Pipeline or Atlantis (amongst other things) is to protect against the threat model laid out in [this post](https://github.com/gruntwork-io/terraform-aws-ci/blob/master/modules/ecs-deploy-runner/core-concepts.md#threat-model-of-the-deploy-runner).\r\n\r\nIf the threat model doesn’t apply to your use case, then it is perfectly reasonable to rely on purely GitHub Actions.\r\n\r\nNote that there is more to Atlantis/Gruntwork Pipeline than just preventing secrets in GitHub. For example, a core mechanism of Gruntwork Pipeline is the argument checker, where it prevents callers from invoking the pipeline with arbitrary repositories or branches. Since GitHub Actions can be invoked from any branch, a user can circumvent the CI restrictions by creating a branch and modifying the workflow code to switch plan with apply, if you are not careful with the Actions permissions. With Gruntwork Pipelines, the ECS Deploy Runner will reject calls to attempt an apply against a non sanctioned branch.\r\n\r\nWith that said, there are disadvantages to these systems, like having to maintain it over time, as well as adding complexity to your jobs. You have to weight the cost of maintenance against the benefits you get out of them.\r\n\r\nFor example, Atlantis may provide a faster way to achieving your ideal Terraform flow without having to finagle GitHub Actions pipeline scripts. Or you might find value in the security measures offered by Gruntwork Pipelines. We hope that the information we provide can help you make the choice that best fits the needs of your team.\r\n\r\n---\r\n\r\nOne other point that is more specific to GitHub Actions: GitHub Actions is fairly limiting when it comes to build minutes, with the paid version only offering a cap of 4000 build minutes. Terraform jobs can take a long time (e.g., deploying CloudFront can take upwards of 1 hour to deploy), making it very easy to reach the build limit fairly quickly. Relying on Atlantis/Gruntwork Pipelines to run jobs can allow you to run those outside of GitHub Actions, preserving precious build minutes.\r\n\r\nThis is less of an issue if you are on the Enterprise plan where you can buy extra build minutes, or if you are using an alternative CI server like CircleCI where you can purchase more build minutes, but will be something you want to keep an eye on.\r\n\r\n---\r\n\r\nFor an overview of Atlantis vs Gruntwork Pipelines, refer to this knowledge base post: https://github.com/gruntwork-io/knowledge-base/discussions/75","bodyHTML":"<p dir=\"auto\">One of the main benefits of using Gruntwork Pipeline or Atlantis (amongst other things) is to protect against the threat model laid out in <a href=\"https://github.com/gruntwork-io/terraform-aws-ci/blob/master/modules/ecs-deploy-runner/core-concepts.md#threat-model-of-the-deploy-runner\">this post</a>.</p>\n<p dir=\"auto\">If the threat model doesn’t apply to your use case, then it is perfectly reasonable to rely on purely GitHub Actions.</p>\n<p dir=\"auto\">Note that there is more to Atlantis/Gruntwork Pipeline than just preventing secrets in GitHub. For example, a core mechanism of Gruntwork Pipeline is the argument checker, where it prevents callers from invoking the pipeline with arbitrary repositories or branches. Since GitHub Actions can be invoked from any branch, a user can circumvent the CI restrictions by creating a branch and modifying the workflow code to switch plan with apply, if you are not careful with the Actions permissions. With Gruntwork Pipelines, the ECS Deploy Runner will reject calls to attempt an apply against a non sanctioned branch.</p>\n<p dir=\"auto\">With that said, there are disadvantages to these systems, like having to maintain it over time, as well as adding complexity to your jobs. You have to weight the cost of maintenance against the benefits you get out of them.</p>\n<p dir=\"auto\">For example, Atlantis may provide a faster way to achieving your ideal Terraform flow without having to finagle GitHub Actions pipeline scripts. Or you might find value in the security measures offered by Gruntwork Pipelines. We hope that the information we provide can help you make the choice that best fits the needs of your team.</p>\n<hr>\n<p dir=\"auto\">One other point that is more specific to GitHub Actions: GitHub Actions is fairly limiting when it comes to build minutes, with the paid version only offering a cap of 4000 build minutes. Terraform jobs can take a long time (e.g., deploying CloudFront can take upwards of 1 hour to deploy), making it very easy to reach the build limit fairly quickly. Relying on Atlantis/Gruntwork Pipelines to run jobs can allow you to run those outside of GitHub Actions, preserving precious build minutes.</p>\n<p dir=\"auto\">This is less of an issue if you are on the Enterprise plan where you can buy extra build minutes, or if you are using an alternative CI server like CircleCI where you can purchase more build minutes, but will be something you want to keep an eye on.</p>\n<hr>\n<p dir=\"auto\">For an overview of Atlantis vs Gruntwork Pipelines, refer to this knowledge base post: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"3725969\" data-permission-text=\"Title is private\" data-url=\"https://github.com/gruntwork-io/knowledge-base/discussions/75\" data-hovercard-type=\"discussion\" data-hovercard-url=\"/gruntwork-io/knowledge-base/discussions/75/hovercard\" href=\"https://github.com/gruntwork-io/knowledge-base/discussions/75\">#75</a></p>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "fbeee51209c716dc557979dbf9854183"
}
##DOCS-SOURCER-END -->
