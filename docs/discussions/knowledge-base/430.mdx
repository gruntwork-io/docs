---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/430" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Expire an openvpn-admin client certificate sooner</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84APn2Q","number":430,"author":{"login":"rhoboat"},"title":"Expire an openvpn-admin client certificate sooner","body":"\nI noticed that the VPN client certs returned by openvpn-admin are good for 10 years. We would like to be able to grant access to a specific environment for a much shorter time period, like days or weeks. I don’t see an option to specify an expiration date when generating a client cert.  Is the any way to accomplish this with the existing tools?\n\n---\n\n<ins datetime=\"2022-05-24T12:46:09Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/108654\">Tracked in ticket #108654</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">I noticed that the VPN client certs returned by openvpn-admin are good for 10 years. We would like to be able to grant access to a specific environment for a much shorter time period, like days or weeks. I don’t see an option to specify an expiration date when generating a client cert.  Is the any way to accomplish this with the existing tools?</p>\n<hr>\n<ins datetime=\"2022-05-24T12:46:09Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/108654\" rel=\"nofollow\">Tracked in ticket #108654</a></p>\n</ins>","answer":{"body":"You should be able to control this using the `--cert-expiration-days` flag on `init-openvpn` in the server boot script. When set, this will update the OpenVPN server to expire any newly generated client certificates in that number of days.\r\n\r\nNote that this setting is shared with the server key generation as well. If you wish to have different expiration days between server and user certificates, the recommendation is to launch an OpenVPN server with the server key expiration setting first, have the OpenVPN server generate the server keys, have the OpenVPN server back it up to S3, and then redeploy the server using the user key expiration setting.\r\n\r\nIt is currently not possible to adjust the certificate expiration days through the `openvpn-admin` request call. We're tracking this request in https://github.com/gruntwork-io/terraform-aws-openvpn/issues/197.","bodyHTML":"<p dir=\"auto\">You should be able to control this using the <code class=\"notranslate\">--cert-expiration-days</code> flag on <code class=\"notranslate\">init-openvpn</code> in the server boot script. When set, this will update the OpenVPN server to expire any newly generated client certificates in that number of days.</p>\n<p dir=\"auto\">Note that this setting is shared with the server key generation as well. If you wish to have different expiration days between server and user certificates, the recommendation is to launch an OpenVPN server with the server key expiration setting first, have the OpenVPN server generate the server keys, have the OpenVPN server back it up to S3, and then redeploy the server using the user key expiration setting.</p>\n<p dir=\"auto\">It is currently not possible to adjust the certificate expiration days through the <code class=\"notranslate\">openvpn-admin</code> request call. We're tracking this request in <a href=\"https://github.com/gruntwork-io/terraform-aws-openvpn/issues/197\">https://github.com/gruntwork-io/terraform-aws-openvpn/issues/197</a>.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "29a0c3c7932102d01c9d6bd9db6db5d3"
}
##DOCS-SOURCER-END -->
