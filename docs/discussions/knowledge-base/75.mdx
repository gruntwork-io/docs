---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>What is the relationship between Atlantis and Gruntwork Pipelines?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AONqR","number":75,"author":{"login":"josh-padnick"},"title":"What is the relationship between Atlantis and Gruntwork Pipelines?","body":"1. Are Gruntwork Pipelines alternatives or complements?\r\n2. If you wanted the Atlantis workflow of seeing `terraform plan` output in pull requests, does Gruntwork Pipelines support this? \r\n3. If the answer to (2) is no:\r\n   1. Is support for `terraform plan` output in pull requests a reasonable Gruntwork Pipelines feature request?\r\n   1. Alternatively, could you use both Atlantis and Gruntwork Pipelines?\r\n\r\nIn general, it seems like one key UX difference between Atlantis and Gruntwork Pipelines is that Atlantis outputs all feedback -- including `terraform plan` output, [infracost output](https://github.com/infracost/infracost-atlantis), and possibly others -- in the pull request, whereas Gruntwork Pipelines outputs it in the CI logs. These two UX options each have tradeoffs, so I wonder if it even makes sense to enable both options in Gruntwork Pipelines, or give customers an official documented path for enabling one or both options?","bodyHTML":"<ol dir=\"auto\">\n<li>Are Gruntwork Pipelines alternatives or complements?</li>\n<li>If you wanted the Atlantis workflow of seeing <code class=\"notranslate\">terraform plan</code> output in pull requests, does Gruntwork Pipelines support this?</li>\n<li>If the answer to (2) is no:\n<ol dir=\"auto\">\n<li>Is support for <code class=\"notranslate\">terraform plan</code> output in pull requests a reasonable Gruntwork Pipelines feature request?</li>\n<li>Alternatively, could you use both Atlantis and Gruntwork Pipelines?</li>\n</ol>\n</li>\n</ol>\n<p dir=\"auto\">In general, it seems like one key UX difference between Atlantis and Gruntwork Pipelines is that Atlantis outputs all feedback -- including <code class=\"notranslate\">terraform plan</code> output, <a href=\"https://github.com/infracost/infracost-atlantis\">infracost output</a>, and possibly others -- in the pull request, whereas Gruntwork Pipelines outputs it in the CI logs. These two UX options each have tradeoffs, so I wonder if it even makes sense to enable both options in Gruntwork Pipelines, or give customers an official documented path for enabling one or both options?</p>","answer":{"body":"> In general, it seems like one key UX difference between Atlantis and Gruntwork Pipelines is that Atlantis outputs all feedback -- including terraform plan output, infracost output, and possibly others -- in the pull request, whereas Gruntwork Pipelines outputs it in the CI logs. These two UX options each have tradeoffs, so I wonder if it even makes sense to enable both options in Gruntwork Pipelines, or give customers an official documented path for enabling one or both options?\r\n\r\nIt's important to highlight that there is a difference between Gruntwork Pipelines as a library, and Gruntwork Pipelines in the Reference Architecture.\r\n\r\nAt its core, Gruntwork Pipelines is a framework for an RPC call to run infrastructure code remotely in your AWS accounts. Everything else, such as the pipeline for deploying infrastructure and reporting results to the PR, is managed by the traditional CI servers that drive the pipeline. In this regard, there is great flexibility in what pipeline you want to build, including what results get reported where. For example, you can even have the pipeline paste the `plan` outputs into Slack.\r\n\r\nIn the Reference Architecture, we implement a specific pipeline that does not report any results into the PRs. This is an opinionated choice due to the security implications of making plan outputs (which may contain sensitive secrets) be available in a third party service (e.g. GitHub) in plain text. However, this does not mean that Gruntwork Pipelines does not support such an implementation. The Reference Architecture ships a specific opinionated pipeline implementation in the CI server of choice that uses Gruntwork Pipelines under the hood to run `terraform`.\r\n\r\n> Are Gruntwork Pipelines alternatives or complements?\r\n\r\nGruntwork Pipelines is in general an alternative to Atlantis, although it can complement it in some ways. The two key differences are that:\r\n\r\n- Gruntwork Pipelines depends on a traditional CI server to drive the GitOps and pipeline. For example, you define your core infrastructure pipeline in CircleCI and rely on Gruntwork Pipelines to run the infrastructure code remotely.\r\n    - In contrast, Atlantis is an all encompassing CI server optimized for terraform workflows. This means that you need to expose your Atlantis instance to VCS systems (like GitHub) directly, as it is the one performing the integration with Git.\r\n- Gruntwork Pipelines supports a wide range of infrastructure tooling, and not just running Terraform. For example, Gruntwork Pipelines can be used to build AMIs, build docker images, and in some cases, update the infrastructure code automatically to deploy a new image tag.\r\n    - Note that Atlantis supports custom workflows for invoking arbitrary infrastructure, but does not have off the shelf workflows for specific infrastructure pipelines outside of Terraform.\r\n\r\nSo you can have a setup where you rely on Gruntwork Pipelines for things that Atlantis doesn't support (like building an AMI and updating the infrastructure code to deploy the new image) to complement it.\r\n\r\n> If you wanted the Atlantis workflow of seeing terraform plan output in pull requests, does Gruntwork Pipelines support this?\r\n\r\nGruntwork Pipelines does not support this out of the box, although you can make this work depending on your CI server implementation. For example, if you were using GitHub actions to drive the integration, you can set up the pipeline so that it runs the `terraform` call using Gruntwork Pipelines, and extracts the output from S3 in the next step to post it on the PR using the [gh](https://cli.github.com/) CLI.\r\n\r\n\r\n---\r\n\r\nFor more information on Gruntwork Pipelines, refer to the following resources:\r\n\r\n- [Overview of Gruntwork Pipelines](https://blog.gruntwork.io/a-ci-cd-pipeline-for-terraform-and-terragrunt-5fd346e90c89)\r\n- [Sequence diagram of Pipeline](https://github.com/gruntwork-io/terraform-aws-ci/blob/master/modules/ecs-deploy-runner/core-concepts.md#overview)\r\n- [Threat model](https://github.com/gruntwork-io/terraform-aws-ci/blob/master/modules/ecs-deploy-runner/core-concepts.md#threat-model-of-the-deploy-runner)","bodyHTML":"<blockquote>\n<p dir=\"auto\">In general, it seems like one key UX difference between Atlantis and Gruntwork Pipelines is that Atlantis outputs all feedback -- including terraform plan output, infracost output, and possibly others -- in the pull request, whereas Gruntwork Pipelines outputs it in the CI logs. These two UX options each have tradeoffs, so I wonder if it even makes sense to enable both options in Gruntwork Pipelines, or give customers an official documented path for enabling one or both options?</p>\n</blockquote>\n<p dir=\"auto\">It's important to highlight that there is a difference between Gruntwork Pipelines as a library, and Gruntwork Pipelines in the Reference Architecture.</p>\n<p dir=\"auto\">At its core, Gruntwork Pipelines is a framework for an RPC call to run infrastructure code remotely in your AWS accounts. Everything else, such as the pipeline for deploying infrastructure and reporting results to the PR, is managed by the traditional CI servers that drive the pipeline. In this regard, there is great flexibility in what pipeline you want to build, including what results get reported where. For example, you can even have the pipeline paste the <code class=\"notranslate\">plan</code> outputs into Slack.</p>\n<p dir=\"auto\">In the Reference Architecture, we implement a specific pipeline that does not report any results into the PRs. This is an opinionated choice due to the security implications of making plan outputs (which may contain sensitive secrets) be available in a third party service (e.g. GitHub) in plain text. However, this does not mean that Gruntwork Pipelines does not support such an implementation. The Reference Architecture ships a specific opinionated pipeline implementation in the CI server of choice that uses Gruntwork Pipelines under the hood to run <code class=\"notranslate\">terraform</code>.</p>\n<blockquote>\n<p dir=\"auto\">Are Gruntwork Pipelines alternatives or complements?</p>\n</blockquote>\n<p dir=\"auto\">Gruntwork Pipelines is in general an alternative to Atlantis, although it can complement it in some ways. The two key differences are that:</p>\n<ul dir=\"auto\">\n<li>Gruntwork Pipelines depends on a traditional CI server to drive the GitOps and pipeline. For example, you define your core infrastructure pipeline in CircleCI and rely on Gruntwork Pipelines to run the infrastructure code remotely.\n<ul dir=\"auto\">\n<li>In contrast, Atlantis is an all encompassing CI server optimized for terraform workflows. This means that you need to expose your Atlantis instance to VCS systems (like GitHub) directly, as it is the one performing the integration with Git.</li>\n</ul>\n</li>\n<li>Gruntwork Pipelines supports a wide range of infrastructure tooling, and not just running Terraform. For example, Gruntwork Pipelines can be used to build AMIs, build docker images, and in some cases, update the infrastructure code automatically to deploy a new image tag.\n<ul dir=\"auto\">\n<li>Note that Atlantis supports custom workflows for invoking arbitrary infrastructure, but does not have off the shelf workflows for specific infrastructure pipelines outside of Terraform.</li>\n</ul>\n</li>\n</ul>\n<p dir=\"auto\">So you can have a setup where you rely on Gruntwork Pipelines for things that Atlantis doesn't support (like building an AMI and updating the infrastructure code to deploy the new image) to complement it.</p>\n<blockquote>\n<p dir=\"auto\">If you wanted the Atlantis workflow of seeing terraform plan output in pull requests, does Gruntwork Pipelines support this?</p>\n</blockquote>\n<p dir=\"auto\">Gruntwork Pipelines does not support this out of the box, although you can make this work depending on your CI server implementation. For example, if you were using GitHub actions to drive the integration, you can set up the pipeline so that it runs the <code class=\"notranslate\">terraform</code> call using Gruntwork Pipelines, and extracts the output from S3 in the next step to post it on the PR using the <a href=\"https://cli.github.com/\">gh</a> CLI.</p>\n<hr>\n<p dir=\"auto\">For more information on Gruntwork Pipelines, refer to the following resources:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://blog.gruntwork.io/a-ci-cd-pipeline-for-terraform-and-terragrunt-5fd346e90c89\" rel=\"nofollow\">Overview of Gruntwork Pipelines</a></li>\n<li><a href=\"https://github.com/gruntwork-io/terraform-aws-ci/blob/master/modules/ecs-deploy-runner/core-concepts.md#overview\">Sequence diagram of Pipeline</a></li>\n<li><a href=\"https://github.com/gruntwork-io/terraform-aws-ci/blob/master/modules/ecs-deploy-runner/core-concepts.md#threat-model-of-the-deploy-runner\">Threat model</a></li>\n</ul>"}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "2b54b48434f177afddd3fd1db917017b"
}
##DOCS-SOURCER-END -->
