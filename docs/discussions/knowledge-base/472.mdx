---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<head>
  <link rel="canonical" href="https://github.com/gruntwork-io/knowledge-base/discussions/472" />
</head>

<CenterLayout>
<span className="searchCategory">Knowledge Base</span>
<h1>Automatically create s3 backend?</h1>
<GitHub discussion={{"id":"D_kwDOF8slf84AP1WB","number":472,"author":{"login":"jmreicha"},"title":"Automatically create s3 backend?","body":"\nI am running into an issue when attempting to start a new environment from scratch, which requires a new remote state backend to be created.\r\n\r\nThe problem only appears when I do a `run-all` from a directory that has dependencies. I have tested and get prompted to create the remote state if I do a `run-all` from a directory that has no dependencies and get prompted with `Remote state S3 bucket foo does not exist or you don't have permissions to access it. Would you like Terragrunt to create it? (y/n)`\r\n\r\nFrom what I can see there is some discrepancy in how dependencies are treated, but my goal would be to be able to do a `run-all` and spin up everything in one shot with no manual intervention. Any guidance here?\n\n---\n\n<ins datetime=\"2022-06-16T14:01:47Z\">\n  <p><a href=\"https://support.gruntwork.io/hc/requests/108788\">Tracked in ticket #108788</a></p>\n</ins>\n","bodyHTML":"<p dir=\"auto\">I am running into an issue when attempting to start a new environment from scratch, which requires a new remote state backend to be created.</p>\n<p dir=\"auto\">The problem only appears when I do a <code class=\"notranslate\">run-all</code> from a directory that has dependencies. I have tested and get prompted to create the remote state if I do a <code class=\"notranslate\">run-all</code> from a directory that has no dependencies and get prompted with <code class=\"notranslate\">Remote state S3 bucket foo does not exist or you don't have permissions to access it. Would you like Terragrunt to create it? (y/n)</code></p>\n<p dir=\"auto\">From what I can see there is some discrepancy in how dependencies are treated, but my goal would be to be able to do a <code class=\"notranslate\">run-all</code> and spin up everything in one shot with no manual intervention. Any guidance here?</p>\n<hr>\n<ins datetime=\"2022-06-16T14:01:47Z\">\n  <p dir=\"auto\"><a href=\"https://support.gruntwork.io/hc/requests/108788\" rel=\"nofollow\">Tracked in ticket #108788</a></p>\n</ins>","answer":{"body":"If you are starting in a new environment where the corresponding S3 Bucket for the state is not yet available, and you wish to always automatically create it, you can call `terragrunt` with the `--terragrunt-non-interactive` flag to always precreate the buckets. Note that if you are concerned about `--terragrunt-non-interactive` saying `yes` to a prompt without your input, you can run `terragrunt run-all init --terragrunt-non-interactive` for the bucket setup, which is a safe operation.","bodyHTML":"<p dir=\"auto\">If you are starting in a new environment where the corresponding S3 Bucket for the state is not yet available, and you wish to always automatically create it, you can call <code class=\"notranslate\">terragrunt</code> with the <code class=\"notranslate\">--terragrunt-non-interactive</code> flag to always precreate the buckets. Note that if you are concerned about <code class=\"notranslate\">--terragrunt-non-interactive</code> saying <code class=\"notranslate\">yes</code> to a prompt without your input, you can run <code class=\"notranslate\">terragrunt run-all init --terragrunt-non-interactive</code> for the bucket setup, which is a safe operation.</p>"}}} />

</CenterLayout>

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "da67a915cd44b0d11b27ae8b7d384fc4"
}
##DOCS-SOURCER-END -->
