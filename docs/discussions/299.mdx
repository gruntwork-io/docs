---
hide_table_of_contents: true
hide_title: true
custom_edit_url: null
---

import CenterLayout from "/src/components/CenterLayout"
import GitHub from "/src/components/GitHub"

<CenterLayout>
<span class="title">Knowledge Base</span>
<h1>Roadmap for upgrading to AWS provider &gt;=4.x</h1>
<GitHub json={{"id":"D_kwDOF8slf84APB5x","number":299,"author":{"login":"pete0emerson"},"title":"Roadmap for upgrading to AWS provider >=4.x","body":"Where can I find information about your plan for a future upgrade to AWS provider >= 4.x?","bodyHTML":"<p dir=\"auto\">Where can I find information about your plan for a future upgrade to AWS provider &gt;= 4.x?</p>","answer":{"body":"Solid thoughts above, thank you.\r\n\r\nOur current solution is to lock the provider to < 4.x, but that can't stay that way forever!\r\n\r\nCurrently we don't publish a roadmap of when features and improvements like this will be done (an unsatisfactory answer, I know). We have talked about that, internally, but we're not there, yet.","bodyHTML":"<p dir=\"auto\">Solid thoughts above, thank you.</p>\n<p dir=\"auto\">Our current solution is to lock the provider to &lt; 4.x, but that can't stay that way forever!</p>\n<p dir=\"auto\">Currently we don't publish a roadmap of when features and improvements like this will be done (an unsatisfactory answer, I know). We have talked about that, internally, but we're not there, yet.</p>"},"comments":{"edges":[{"node":{"author":{"login":"pete0emerson"},"body":"From a Gruntwork customer:\r\n\r\nI too would like to know but I know it's not an easy answer to give.\r\nI don't wanna speak for gruntworks about their plan or thoughts...\r\nHowever, as someone who has worked a lot with terraform without terragrunt before, the AWS Provider >= 4.x is a huge foundational type of shift because on how hashicorp is trying to push S3 resource provisioning. Terraform is trying to consolidate all the issues on their github aws provider repo here in the [4.x upgrade](https://github.com/hashicorp/terraform-provider-aws/issues/23106#issuecomment-1035548640) on s3 bucket resources but many people have voiced their displeasure with the upgrade. 4.0.0 was released on Feb 10th 2022, which took many people by surprise.\r\nSince all the states, logs, and configuration are being saved in those S3 resources... they can't screw up an upgrade for it and terraform's provider [upgrade process is sorta overwhelming](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/guides/version-4-upgrade). It's really about that state management and it's literally the foundation of all terraform... that has to be a 100% clean update.\r\nIf the 4.x upgrade wasn't centered around s3 bucket resource, I think they would have had something out by now for an upgrade path, but since it is s3 bucket resources... they gotta get it right.\r\nYori has put in a lot of stopgaps in the current terragrunt private modules to keep things running so far. I anticipate that they are working on trying to get an upgrade path figured out but it's not gonna be easy."}},{"node":{"author":{"login":"pete0emerson"},"body":"Solid thoughts above, thank you.\r\n\r\nOur current solution is to lock the provider to < 4.x, but that can't stay that way forever!\r\n\r\nCurrently we don't publish a roadmap of when features and improvements like this will be done (an unsatisfactory answer, I know). We have talked about that, internally, but we're not there, yet."}},{"node":{"author":{"login":"fsanzdev"},"body":"AWS provider versions =>4.9.0 retain the same configurations parameters of the `aws_s3_bucket` (they basically undid the changes) so I guess it's secure to use those versions https://registry.terraform.io/providers/hashicorp/aws/latest/docs/guides/version-4-upgrade#changes-to-s3-bucket-drift-detection\r\n\r\nCould you please confirm it?"}},{"node":{"author":{"login":"LuigiClemente-Awin"},"body":"An update on this would be much appreciated, please."}}]}}} />

</CenterLayout>
  

<!-- ##DOCS-SOURCER-START
{
  "sourcePlugin": "github-discussions",
  "hash": "908f0bbd1a12a5d04baef32eb37345d9"
}
##DOCS-SOURCER-END -->
