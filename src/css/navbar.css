/**
 * Navbar Styles
 * Gruntwork-inspired navigation with a sleek, dark aesthetic
 * 
 * ==========================================================================
 * CUSTOM BREAKPOINTS (defined in custom.css @theme inline)
 * ==========================================================================
 * 
 *   --breakpoint-md:  997px   → Mobile to intermediate transition (matches Docusaurus default)
 *   --breakpoint-xl:  1280px  → Full desktop navbar
 * 
 * Note: CSS media queries don't support var(), so we use literal values below.
 * 
 * ==========================================================================
 * BREAKPOINT BEHAVIOR
 * ==========================================================================
 * 
 *   < md  (< 997px)           : Mobile - hamburger menu only
 *   md-xl (997px - 1279px)    : Intermediate - nav + "More" dropdown + theme toggle + search
 *   ≥ xl  (≥ 1280px)          : Desktop - full navbar, all items visible
 * 
 */

/* ==========================================================================
   Base Navbar Styles
   ========================================================================== */

.navbar {
  box-shadow: none !important;
}

[data-theme='dark'] .navbar {
  background: var(--gw-bg-primary);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

[data-theme='light'] .navbar {
  background: #FFFFFF;
  border-bottom: 1px solid var(--gw-gray-200);
}

.navbar__item {
  font-size: 0.875rem;
  font-weight: 500;
  letter-spacing: -0.01em;
}

.navbar__link {
  transition: color 0.15s ease;
}

[data-theme='dark'] .navbar__link {
  color: var(--gw-gray-400);
}

[data-theme='dark'] .navbar__link:hover,
[data-theme='dark'] .navbar__link--active {
  color: #FFFFFF;
}

[data-theme='light'] .navbar__link {
  color: var(--gw-gray-600);
}

[data-theme='light'] .navbar__link:hover,
[data-theme='light'] .navbar__link--active {
  color: var(--gw-gray-900);
}

/* Logo styling */
.navbar__logo {
  height: 1.75rem;
}

.navbar__logo img {
  height: 100%;
  width: auto;
}

/* ==========================================================================
   Secondary Nav Dropdown Component
   ========================================================================== */

.secondary-nav-dropdown {
  position: relative;
  z-index: 200;
}

.secondary-nav-dropdown__menu {
  position: absolute;
  top: 100%;
  right: 0;
  min-width: 200px;
  padding: 0.5rem;
  margin-top: 0.5rem;
  border-radius: 10px;
  z-index: 100;
}

[data-theme='dark'] .secondary-nav-dropdown__menu {
  background: var(--gw-bg-elevated);
  border: 1px solid var(--gw-gray-800);
  box-shadow: 
    0 4px 20px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.05);
}

[data-theme='light'] .secondary-nav-dropdown__menu {
  background: #FFFFFF;
  border: 1px solid var(--gw-gray-200);
  box-shadow: 
    0 4px 20px rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(0, 0, 0, 0.05);
}

.secondary-nav-dropdown__item {
  display: block;
  padding: 0.625rem 0.875rem;
  font-size: 0.875rem;
  font-weight: 500;
  text-decoration: none;
  border-radius: 6px;
  transition: all 0.15s ease;
}

[data-theme='dark'] .secondary-nav-dropdown__item {
  color: var(--gw-gray-300);
}

[data-theme='dark'] .secondary-nav-dropdown__item:hover {
  background: rgba(255, 255, 255, 0.05);
  color: #FFFFFF;
  text-decoration: none;
}

[data-theme='light'] .secondary-nav-dropdown__item {
  color: var(--gw-gray-600);
}

[data-theme='light'] .secondary-nav-dropdown__item:hover {
  background: var(--gw-gray-100);
  color: var(--gw-gray-900);
  text-decoration: none;
}

.secondary-nav-dropdown__divider {
  height: 1px;
  margin: 0.5rem 0;
}

[data-theme='dark'] .secondary-nav-dropdown__divider {
  background: var(--gw-gray-800);
}

[data-theme='light'] .secondary-nav-dropdown__divider {
  background: var(--gw-gray-200);
}

/* Style Sign In ButtonLink in dropdown */
.secondary-nav-dropdown__signin {
  display: block !important;
  width: 100%;
  margin-top: 0.25rem;
}

.secondary-nav-dropdown__signin button {
  width: 100%;
  justify-content: center;
}

/* ==========================================================================
   Search Styling
   ========================================================================== */

.navbar__search-input {
  border-radius: 8px;
  font-size: 0.875rem;
  transition: all 0.15s ease;
}

[data-theme='dark'] .navbar__search-input {
  background: var(--gw-bg-elevated);
  border: 1px solid var(--gw-gray-700);
  color: var(--gw-gray-200);
}

[data-theme='dark'] .navbar__search-input::placeholder {
  color: var(--gw-gray-500);
}

[data-theme='dark'] .navbar__search-input:focus {
  background: var(--gw-bg-surface);
  border-color: var(--gw-green-400);
  outline: none;
  box-shadow: 0 0 0 3px rgba(37, 194, 160, 0.15);
}

[data-theme='light'] .navbar__search-input {
  background: var(--gw-gray-100);
  border: 1px solid var(--gw-gray-200);
  color: var(--gw-gray-900);
}

[data-theme='light'] .navbar__search-input::placeholder {
  color: var(--gw-gray-400);
}

[data-theme='light'] .navbar__search-input:focus {
  background: #FFFFFF;
  border-color: var(--gw-green-500);
  outline: none;
  box-shadow: 0 0 0 3px rgba(21, 139, 113, 0.15);
}

/* ==========================================================================
   Color Mode Toggle
   ========================================================================== */

[data-theme='dark'] [class*="toggle_"] {
  color: var(--gw-gray-400);
}

[data-theme='dark'] [class*="toggle_"]:hover {
  color: #FFFFFF;
}

/* ==========================================================================
   Mobile Sidebar
   ========================================================================== */

[data-theme='dark'] .navbar-sidebar {
  background: var(--gw-bg-primary);
}

[data-theme='dark'] .navbar-sidebar__brand {
  border-bottom: 1px solid var(--gw-gray-800);
}

[data-theme='dark'] .navbar-sidebar__items {
  background: var(--gw-bg-primary);
}

[data-theme='dark'] .navbar-sidebar .menu__link {
  color: var(--gw-gray-300);
  border-radius: 6px;
}

[data-theme='dark'] .navbar-sidebar .menu__link:hover {
  background: rgba(255, 255, 255, 0.05);
  color: #FFFFFF;
}

[data-theme='dark'] .navbar-sidebar .menu__link--active {
  background: rgba(37, 194, 160, 0.1);
  color: var(--gw-green-400);
}

/* ==========================================================================
   BREAKPOINT: Mobile (< md, below 997px)
   Hamburger menu only
   ========================================================================== */

@media (max-width: 996px) {
  /* Show hamburger toggle */
  .navbar__toggle {
    display: inherit !important;
  }
  
  /* Hide navbar items (they go in mobile sidebar) */
  .navbar__item {
    display: none !important;
  }
  
  /* Hide dropdown (items are in sidebar) */
  .secondary-nav-dropdown {
    display: none !important;
  }
  
  /* Remove container padding */
  .navbar > .container,
  .navbar > .container-fluid {
    padding: 0 !important;
  }
  
  /* Reduce search input width */
  .navbar__search-input {
    width: 9rem !important;
  }
}

/* ==========================================================================
   BREAKPOINT: Intermediate (md to xl, 997px - 1279px)
   Primary nav visible, secondary items in "More" dropdown
   ========================================================================== */

@media (min-width: 997px) and (max-width: 1279px) {
  /* Hide hamburger toggle */
  .navbar__toggle {
    display: none !important;
  }
  
  /* Show primary nav items (left side) */
  .navbar__items:not(.navbar__items--right) .navbar__item {
    display: flex !important;
  }
  
  /* Hide secondary nav items (right side) - they're in the dropdown */
  .navbar__items--right .navbar__item {
    display: none !important;
  }
  
  /* Show the "More" dropdown */
  .navbar__items--right .navbar__item.secondary-nav-dropdown {
    display: flex !important;
  }
  
  /* Hide Sign In button (it's in the dropdown) */
  .navbar-signin-wrapper {
    display: none !important;
  }
  
  /* Show color mode toggle (Docusaurus shows it at 997px+) */
  .navbar-color-mode-wrapper,
  [class*="colorModeToggle"] {
    display: flex !important;
  }
  
  /* Restore container padding */
  .navbar > .container,
  .navbar > .container-fluid {
    padding: var(--ifm-navbar-padding-horizontal) !important;
  }
  
  /* Right navbar items layout */
  .navbar__items--right {
    flex-shrink: 0;
    gap: 0.5rem;
    overflow: visible !important;
  }
  
  /* Prevent clipping */
  .navbar > .container,
  .navbar > .container-fluid,
  .navbar__inner {
    overflow: visible !important;
  }
  
  /* Ensure dropdown is visible */
  .secondary-nav-dropdown {
    display: flex !important;
    flex-shrink: 0;
  }

  /* Show search bar */
  [class*="navbarSearchContainer"] {
    display: flex !important;
    flex-shrink: 0;
  }
  
  /* Search bar width */
  [class*="navbarSearchContainer"] input {
    width: 9rem !important;
    min-width: 9rem !important;
  }
}

/* ==========================================================================
   BREAKPOINT: Desktop (≥ xl, 1280px and above)
   Full navbar with all items visible
   ========================================================================== */

@media (min-width: 1280px) {
  /* Hide the "More" dropdown (all items visible directly) */
  .secondary-nav-dropdown {
    display: none !important;
  }
  
  /* Search bar minimum width */
  [class*="navbarSearchContainer"] input {
    min-width: 8rem;
  }
  
  /* Visual balance for right-side items */
  .navbar__items--right {
    margin-left: 10px;
    gap: 0.25rem;
  }
}

/* ==========================================================================
   Sign In Button
   ========================================================================== */

.navbar-signin-button {
  display: inline-flex;
  align-items: center;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 600;
  border-radius: 8px;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.15s ease;
}

[data-theme='dark'] .navbar-signin-button {
  color: var(--gw-bg-primary);
  background: var(--gw-green-400);
  border: none;
}

[data-theme='dark'] .navbar-signin-button:hover {
  background: var(--gw-green-300);
  text-decoration: none;
}

[data-theme='light'] .navbar-signin-button {
  color: #FFFFFF;
  background: var(--gw-green-600);
  border: none;
}

[data-theme='light'] .navbar-signin-button:hover {
  background: var(--gw-green-500);
  text-decoration: none;
}
